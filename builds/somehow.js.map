{"version":3,"file":"somehow.js","sources":["../node_modules/fit-aspect-ratio/builds/fit-aspect-ratio.js","../node_modules/htm/dist/htm.js","../node_modules/spacetime/builds/spacetime.js","../src/parse.js","../src/_fns.js","../src/methods.js","../src/_clip.js","../src/scales/_linear.js","../src/scales/Scale.js","../src/scales/YScale.js","../node_modules/spencer-color/builds/spencer-color.js","../node_modules/spacetime-ticks/src/_reduce.js","../node_modules/spacetime-ticks/src/methods.js","../node_modules/spacetime-ticks/_version.js","../node_modules/spacetime-ticks/src/index.js","../node_modules/somehow-ticks/builds/somehow-ticks.js","../src/axis/_ticks.js","../src/axis/_prettyNum.js","../src/axis/_custom.js","../src/axis/Axis.js","../src/axis/XAxis.js","../src/axis/YAxis.js","../node_modules/d3-path/dist/d3-path.js","../node_modules/d3-shape/dist/d3-shape.js","../src/shapes/lib/parseInput.js","../src/shapes/Shape.js","../src/shapes/Area.js","../src/shapes/Rect.js","../src/shapes/Line.js","../src/shapes/Text.js","../src/shapes/Dot.js","../src/shapes/Annotation.js","../src/shapes/MidArea.js","../src/shapes/Bar.js","../src/shapes/Image.js","../src/shapes/Arrow.js","../src/shapes/Now.js","../src/shapes/Snake.js","../src/shapes/Title.js","../src/World.js","../_version.js","../src/index.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.fitAspect = factory());\n}(this, (function () { 'use strict';\n\n  //lists are stored in landscape orientation\n  const list = [{\n    names: ['square', '1:1', 'instagram'],\n    description: 'Square',\n    decimal: 1,\n    orientation: 'landscape'\n  }, {\n    names: ['4:3', 'fullscreen', 'four three', '1.33:1', 'ipad', 'pythagorean'],\n    description: 'Traditional TVs',\n    decimal: 1.333333,\n    orientation: 'landscape'\n  }, {\n    names: ['a4', '√2:1', 'paper', 'lichtenberg', '1:1.41'],\n    description: 'A4 paper',\n    decimal: 1.41\n  }, {\n    names: ['imax', '1.43:1'],\n    description: 'IMAX film',\n    decimal: 1.43,\n    orientation: 'landscape'\n  }, {\n    names: ['3:2', '35mm', 'photo', '1.5:1', '1.5'],\n    description: '35mm photos',\n    decimal: 1.5,\n    orientation: 'landscape'\n  }, {\n    names: ['business card', 'bank card', '1.58:1'],\n    description: 'Bank Cards',\n    decimal: 1.58577,\n    orientation: 'landscape'\n  }, {\n    names: ['golden', 'kepler', '1.618', '1.6:1'],\n    description: 'Golden ratio',\n    decimal: 1.61803,\n    orientation: 'landscape'\n  }, {\n    names: ['16:9', 'hd', 'hdtv', 'fhd', 'tv', 'computer', 'iphone', '4k', '8k', '1.78:1'],\n    description: 'HD video',\n    decimal: 1.77777,\n    orientation: 'landscape'\n  }, {\n    names: ['widescreen', '1.85:1'],\n    description: 'Movie-theatres',\n    decimal: 1.85,\n    orientation: 'landscape'\n  }, {\n    names: ['2:1', 'univisium', 'mobile', '18:9'],\n    description: '2:1',\n    decimal: 2,\n    orientation: 'landscape'\n  }, {\n    names: ['cinemascope', 'widescreen', 'wide', '2.35:1', '2.39:1'],\n    description: 'Widescreen',\n    decimal: 2.35,\n    orientation: 'landscape'\n  }, {\n    names: ['silver', '1 + √2', '2.41:1'],\n    description: 'Silver ratio',\n    decimal: 2.41,\n    orientation: 'landscape'\n  }]; //create portrait mode\n\n  let portraits = list.map(o => {\n    o = Object.assign({}, o);\n    o.decimal = 1 / o.decimal;\n    o.orientation = 'portrait';\n    return o;\n  }); // const list = portrait.concat(landscape)\n  //flip it into a nice lookup hash\n\n  let lookup = {};\n  list.forEach(o => {\n    o.names.forEach(name => {\n      lookup[name] = o;\n    });\n  });\n  var aspects = {\n    lookup: lookup,\n    portraits: portraits,\n    list: list\n  };\n\n  const findLandscape = function (decimal, list) {\n    for (let i = 0; i < list.length; i += 1) {\n      if (decimal <= list[i].decimal) {\n        //was the previous one even closer?\n        if (list[i - 1]) {\n          let diffThis = Math.abs(decimal - list[i].decimal);\n          let diffLast = Math.abs(decimal - list[i - 1].decimal);\n\n          if (diffLast < diffThis) {\n            return list[i - 1];\n          }\n        }\n\n        return list[i];\n      }\n    }\n\n    return list[list.length - 1];\n  }; //find the closest portrait ratio\n\n\n  const findPortrait = function (decimal, list) {\n    for (let i = 0; i < list.length; i += 1) {\n      if (decimal > list[i].decimal) {\n        //was the previous one even closer?\n        if (list[i - 1]) {\n          let diffThis = Math.abs(decimal - list[i].decimal);\n          let diffLast = Math.abs(decimal - list[i - 1].decimal);\n\n          if (diffLast < diffThis) {\n            return list[i - 1];\n          }\n        }\n\n        return list[i];\n      }\n    }\n\n    return list[list.length - 1];\n  }; //find the closest aspect ratio from width/height\n\n\n  const findBestRatio = function (width, height) {\n    let decimal = width / height; //round it to 2 decimals\n\n    decimal = parseInt(decimal * 100, 10) / 100; //do we want a portrait or landscape aspect ratio?\n\n    if (decimal < 1) {\n      return findPortrait(decimal, aspects.portraits);\n    }\n\n    return findLandscape(decimal, aspects.list);\n  };\n\n  var findBestRatio_1 = findBestRatio;\n\n  const isRatio = /^[0-9\\.]+:[0-9\\.]+$/; //determine aspect ratio from name\n\n  const parseRatio = function (name) {\n    name = name.toLowerCase();\n    name = name.trim();\n    name = name.replace(' ratio', '');\n    name = name.replace('-', ' '); //if we know it..\n\n    if (aspects.lookup.hasOwnProperty(name) === true) {\n      return aspects.lookup[name];\n    } //if it's numerical\n\n\n    if (isRatio.test(name) === true) {\n      let arr = name.split(':');\n      let width = parseFloat(arr[0]);\n      let height = parseFloat(arr[1]);\n      let aspect = {\n        description: 'custom',\n        decimal: width / height\n      };\n      return aspect;\n    }\n\n    return null;\n  };\n\n  var parseRatio_1 = parseRatio;\n\n  const fitHeight = function (obj, aspect) {\n    let decimal = 1 / aspect.decimal;\n    let orientation = obj.orientation || 'landscape'; //reverse it (again), if in portrait\n\n    if (orientation === 'portrait') {\n      decimal = 1 / decimal;\n    }\n\n    let height = obj.width * decimal;\n    height = Math.round(height);\n    return {\n      closest: aspect,\n      width: obj.width,\n      height: height,\n      orientation: orientation,\n      original: obj\n    };\n  };\n\n  const fitWidth = function (obj, aspect) {\n    let decimal = aspect.decimal;\n    let orientation = obj.orientation || 'landscape'; //reverse it, if in portrait\n\n    if (orientation === 'portrait') {\n      decimal = 1 / decimal;\n    }\n\n    let width = obj.height * decimal;\n    width = Math.round(width);\n    return {\n      closest: aspect,\n      width: width,\n      height: obj.height,\n      orientation: orientation,\n      original: obj\n    };\n  }; //shorten the side that's too long\n\n\n  const shrink = function (obj, aspect) {\n    let moveWidth = fitWidth(obj, aspect); //did this make our width longer?\n\n    if (moveWidth.width > obj.width) {\n      return fitHeight(obj, aspect);\n    }\n\n    return moveWidth;\n  };\n\n  var fit = {\n    both: shrink,\n    width: fitWidth,\n    height: fitHeight\n  };\n\n  //\n\n  const fitAspect = function (obj = {}) {\n    //for these numbers, calculate best ratio\n    if (!obj.aspect && !obj.ratio) {\n      let aspect = findBestRatio_1(obj.width, obj.height);\n      let inverse = 1 / aspect.decimal;\n      let height = obj.width * inverse; //calculate change %\n\n      let change = (height - obj.height) / obj.height;\n      change = parseInt(change * 1000, 10) / 10;\n      height = Math.round(height);\n      return {\n        closest: aspect,\n        percent_change: change,\n        width: obj.width,\n        height: height\n      };\n    } //lookup aspect ratio\n\n\n    let aspect = parseRatio_1(obj.aspect || obj.ratio || '');\n\n    if (aspect === null) {\n      console.error('find-aspect-ratio error: Could not find a given aspect ratio.');\n      return obj;\n    } //shrink both to fit\n\n\n    if (typeof obj.width === 'number' && typeof obj.height === 'number') {\n      return fit.both(obj, aspect);\n    } //determine missing height\n\n\n    if (typeof obj.width === 'number') {\n      return fit.height(obj, aspect);\n    } //determine missing width\n\n\n    if (typeof obj.height === 'number') {\n      return fit.width(obj, aspect);\n    } //doh\n\n\n    console.error('find-aspect-ratio error: Please supply a height, width, or ratio value.');\n    return obj;\n  };\n\n  var src = fitAspect;\n\n  return src;\n\n})));\n//# sourceMappingURL=fit-aspect-ratio.js.map\n","!function(){var n=function(t,e,u,r){for(var o=1;o<e.length;o++){var s=e[o],f=\"number\"==typeof s?u[s]:s,p=e[++o];1===p?r[0]=f:3===p?r[1]=Object.assign(r[1]||{},f):5===p?(r[1]=r[1]||{})[e[++o]]=f:6===p?r[1][e[++o]]+=f+\"\":r.push(p?t.apply(null,n(t,f,u,[\"\",null])):f)}return r},t=function(n){for(var t,e,u=1,r=\"\",o=\"\",s=[0],f=function(n){1===u&&(n||(r=r.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||r,0):3===u&&(n||r)?(s.push(n||r,1),u=2):2===u&&\"...\"===r&&n?s.push(n,3):2===u&&r&&!n?s.push(!0,5,r):u>=5&&((r||!n&&5===u)&&(s.push(r,u,e),u=6),n&&(s.push(n,u,e),u=6)),r=\"\"},p=0;p<n.length;p++){p&&(1===u&&f(),f(p));for(var h=0;h<n[p].length;h++)t=n[p][h],1===u?\"<\"===t?(f(),s=[s],u=3):r+=t:4===u?\"--\"===r&&\">\"===t?(u=1,r=\"\"):r=t+r[0]:o?t===o?o=\"\":r+=t:'\"'===t||\"'\"===t?o=t:\">\"===t?(f(),u=1):u&&(\"=\"===t?(u=5,e=r,r=\"\"):\"/\"===t&&(u<5||\">\"===n[p][h+1])?(f(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(f(),u=2):r+=t),3===u&&\"!--\"===r&&(u=4,s=s[0])}return f(),s},e=\"function\"==typeof Map,u=e?new Map:{},r=e?function(n){var e=u.get(n);return e||u.set(n,e=t(n)),e}:function(n){for(var e=\"\",r=0;r<n.length;r++)e+=n[r].length+\"-\"+n[r];return u[e]||(u[e]=t(n))},o=function(t){var e=n(this,r(t),arguments,[]);return e.length>1?e:e[0]};\"undefined\"!=typeof module?module.exports=o:self.htm=o}();\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global = global || self, global.spacetime = factory());\n}(this, function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tfunction getCjsExportFromNamespace (n) {\n\t\treturn n && n['default'] || n;\n\t}\n\n\tvar fns = createCommonjsModule(function (module, exports) {\n\t  //git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\n\t  exports.isLeapYear = function (year) {\n\t    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n\t  }; // unsurprisingly-nasty `typeof date` call\n\n\n\t  exports.isDate = function (d) {\n\t    return Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\n\t  };\n\n\t  exports.isArray = function (input) {\n\t    return Object.prototype.toString.call(input) === '[object Array]';\n\t  };\n\n\t  exports.isObject = function (input) {\n\t    return Object.prototype.toString.call(input) === '[object Object]';\n\t  };\n\n\t  exports.zeroPad = function (str) {\n\t    var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n\t    var pad = '0';\n\t    str = str + '';\n\t    return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str;\n\t  };\n\n\t  exports.titleCase = function (str) {\n\t    if (!str) {\n\t      return '';\n\t    }\n\n\t    return str[0].toUpperCase() + str.substr(1);\n\t  };\n\n\t  exports.ordinal = function (i) {\n\t    var j = i % 10;\n\t    var k = i % 100;\n\n\t    if (j === 1 && k !== 11) {\n\t      return i + 'st';\n\t    }\n\n\t    if (j === 2 && k !== 12) {\n\t      return i + 'nd';\n\t    }\n\n\t    if (j === 3 && k !== 13) {\n\t      return i + 'rd';\n\t    }\n\n\t    return i + 'th';\n\t  }; //strip 'st' off '1st'..\n\n\n\t  exports.toCardinal = function (str) {\n\t    str = String(str);\n\t    str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n\t    return parseInt(str, 10);\n\t  }; //used mostly for cleanup of unit names, like 'months'\n\n\n\t  exports.normalize = function () {\n\t    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t    str = str.toLowerCase().trim();\n\t    str = str.replace(/ies$/, 'y'); //'centuries'\n\n\t    str = str.replace(/s$/, '');\n\t    str = str.replace(/-/g, '');\n\n\t    if (str === 'day') {\n\t      return 'date';\n\t    }\n\n\t    return str;\n\t  };\n\n\t  exports.getEpoch = function (tmp) {\n\t    //support epoch\n\t    if (typeof tmp === 'number') {\n\t      return tmp;\n\t    } //suport date objects\n\n\n\t    if (exports.isDate(tmp)) {\n\t      return tmp.getTime();\n\t    }\n\n\t    if (tmp.epoch) {\n\t      return tmp.epoch;\n\t    }\n\n\t    return null;\n\t  }; //make sure this input is a spacetime obj\n\n\n\t  exports.beADate = function (d, s) {\n\t    if (exports.isObject(d) === false) {\n\t      return s.clone().set(d);\n\t    }\n\n\t    return d;\n\t  };\n\n\t  exports.formatTimezone = function (offset) {\n\t    var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t    var absOffset = Math.abs(offset);\n\t    var sign = offset > 0 ? '+' : '-';\n\t    return \"\".concat(sign).concat(exports.zeroPad(absOffset)).concat(delimiter, \"00\");\n\t  };\n\t});\n\tvar fns_1 = fns.isLeapYear;\n\tvar fns_2 = fns.isDate;\n\tvar fns_3 = fns.isArray;\n\tvar fns_4 = fns.isObject;\n\tvar fns_5 = fns.zeroPad;\n\tvar fns_6 = fns.titleCase;\n\tvar fns_7 = fns.ordinal;\n\tvar fns_8 = fns.toCardinal;\n\tvar fns_9 = fns.normalize;\n\tvar fns_10 = fns.getEpoch;\n\tvar fns_11 = fns.beADate;\n\tvar fns_12 = fns.formatTimezone;\n\n\tvar zeroPad = fns.zeroPad;\n\n\tvar toString = function toString(d) {\n\t  return zeroPad(d.getMonth() + 1) + '/' + zeroPad(d.getDate()) + ':' + zeroPad(d.getHours());\n\t}; // a timezone will begin with a specific offset in january\n\t// then some will switch to something else between november-march\n\n\n\tvar shouldChange = function shouldChange(epoch, start, end, defaultOffset) {\n\t  //note: this has a cray order-of-operations issue\n\t  //we can't get the date, without knowing the timezone, and vice-versa\n\t  //it's possible that we can miss a dst-change by a few hours.\n\t  var d = new Date(epoch); //(try to mediate this a little?)\n\n\t  var bias = d.getTimezoneOffset() || 0;\n\t  var shift = bias + defaultOffset * 60; //in minutes\n\n\t  shift = shift * 60 * 1000; //in ms\n\n\t  d = new Date(epoch + shift);\n\t  var current = toString(d); //eg. is it after ~november?\n\n\t  if (current >= start) {\n\t    //eg. is it before ~march~ too?\n\t    if (current < end) {\n\t      return true;\n\t    }\n\t  }\n\n\t  return false;\n\t};\n\n\tvar summerTime = shouldChange;\n\n\t// it reproduces some things in ./index.js, but speeds up spacetime considerably\n\n\tvar quickOffset = function quickOffset(s) {\n\t  var zones = s.timezones;\n\t  var obj = zones[s.tz];\n\n\t  if (obj === undefined) {\n\t    console.warn(\"Warning: couldn't find timezone \" + s.tz);\n\t    return 0;\n\t  }\n\n\t  if (obj.dst === undefined) {\n\t    return obj.offset;\n\t  } //get our two possible offsets\n\n\n\t  var jul = obj.offset;\n\t  var dec = obj.offset + 1; // assume it's the same for now\n\n\t  if (obj.hem === 'n') {\n\t    dec = jul - 1;\n\t  }\n\n\t  var split = obj.dst.split('->');\n\t  var inSummer = summerTime(s.epoch, split[0], split[1], jul);\n\n\t  if (inSummer === true) {\n\t    return jul;\n\t  }\n\n\t  return dec;\n\t};\n\n\tvar quick = quickOffset;\n\n\tvar _build = {\n\t\t\"9|s\": \"2/dili,2/jayapura\",\n\t\t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n\t\t\"9.5|s|04/07:03->10/06:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n\t\t\"9.5|s\": \"4/darwin,4/north\",\n\t\t\"8|s\": \"12/casey,2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n\t\t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n\t\t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n\t\t\"8.75|s\": \"4/eucla\",\n\t\t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n\t\t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n\t\t\"6|s\": \"12/vostok\",\n\t\t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n\t\t\"6.5|n\": \"2/rangoon,9/cocos\",\n\t\t\"5|s\": \"12/mawson,9/kerguelen\",\n\t\t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n\t\t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n\t\t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n\t\t\"4|s\": \"9/reunion\",\n\t\t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n\t\t\"4.5|n|03/22:00->09/21:24\": \"2/tehran\",\n\t\t\"4.5|n\": \"2/kabul\",\n\t\t\"3|s\": \"12/syowa,9/antananarivo\",\n\t\t\"3|n|03/31:03->10/27:04\": \"2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n\t\t\"3|n|03/31:02->10/27:03\": \"8/chisinau,8/tiraspol\",\n\t\t\"3|n|03/31:00->10/26:24\": \"2/beirut\",\n\t\t\"3|n|03/29:02->10/27:02\": \"2/jerusalem,2/tel_aviv\",\n\t\t\"3|n|03/29:00->10/26:01\": \"2/gaza,2/hebron\",\n\t\t\"3|n|03/29:00->10/25:01\": \"2/amman\",\n\t\t\"3|n|03/29:00->10/24:24\": \"2/damascus\",\n\t\t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n\t\t\"2|s|03/31:02->10/27:02\": \"12/troll\",\n\t\t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n\t\t\"2|n|03/31:02->10/27:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n\t\t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n\t\t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n\t\t\"1|s\": \"0/kinshasa,0/luanda\",\n\t\t\"1|n|05/05:03->06/09:02\": \"0/casablanca,0/el_aaiun\",\n\t\t\"1|n|03/31:01->10/27:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n\t\t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n\t\t\"14|n\": \"11/kiritimati\",\n\t\t\"13|s|04/07:04->09/29:03\": \"11/apia\",\n\t\t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n\t\t\"13|n\": \"11/enderbury,11/fakaofo\",\n\t\t\"12|s|04/07:03->09/29:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n\t\t\"12|s|01/13:03->11/10:02\": \"11/fiji\",\n\t\t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n\t\t\"12.75|s|04/07:03->09/29:02\": \"11/chatham\",\n\t\t\"11|s\": \"12/macquarie,11/bougainville\",\n\t\t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n\t\t\"11.5|n\": \"11/norfolk\",\n\t\t\"10|s|04/07:03->10/06:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n\t\t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n\t\t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n\t\t\"10.5|s|04/07:01->10/06:02\": \"4/lhi,4/lord_howe\",\n\t\t\"0|n|03/31:00->10/27:01\": \"1/scoresbysund,3/azores\",\n\t\t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n\t\t\"-9|n|03/10:02->11/03:02\": \"1/adak,1/atka\",\n\t\t\"-9|n\": \"11/gambier\",\n\t\t\"-9.5|n\": \"11/marquesas\",\n\t\t\"-8|n|03/10:02->11/03:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n\t\t\"-8|n\": \"11/pitcairn\",\n\t\t\"-7|n|03/10:02->11/03:02\": \"1/dawson,1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,1/whitehorse,6/pacific,6/yukon,10/bajanorte\",\n\t\t\"-7|n\": \"1/creston,1/dawson_creek,1/hermosillo,1/phoenix\",\n\t\t\"-6|s|04/06:22->09/07:22\": \"7/easterisland,11/easter\",\n\t\t\"-6|n|04/07:02->10/27:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n\t\t\"-6|n|03/10:02->11/03:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n\t\t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n\t\t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n\t\t\"-5|n|04/07:02->10/27:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n\t\t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n\t\t\"-5|n|03/10:02->11/03:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n\t\t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n\t\t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n\t\t\"-4|s|04/06:24->09/08:00\": \"1/santiago,7/continental\",\n\t\t\"-4|s|03/23:24->10/06:00\": \"1/asuncion\",\n\t\t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n\t\t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n\t\t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n\t\t\"-4|n|03/10:02->11/03:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n\t\t\"-4|n|03/10:00->11/03:01\": \"1/havana\",\n\t\t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n\t\t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n\t\t\"-3|n|03/10:02->11/03:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n\t\t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n\t\t\"-2|s\": \"5/denoronha\",\n\t\t\"-2|n|03/30:22->10/26:23\": \"1/godthab\",\n\t\t\"-2|n|03/10:02->11/03:02\": \"1/miquelon\",\n\t\t\"-2|n\": \"1/noronha,3/south_georgia\",\n\t\t\"-2.5|n|03/10:02->11/03:02\": \"1/st_johns,6/newfoundland\",\n\t\t\"-1|n\": \"3/cape_verde\",\n\t\t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n\t\t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n\t};\n\n\tvar _build$1 = /*#__PURE__*/Object.freeze({\n\t\t'default': _build\n\t});\n\n\t//prefixes for iana names..\n\tvar _prefixes = ['africa', 'america', 'asia', 'atlantic', 'australia', 'brazil', 'canada', 'chile', 'europe', 'indian', 'mexico', 'pacific', 'antarctica', 'etc'];\n\n\tvar data = getCjsExportFromNamespace(_build$1);\n\n\tvar all = {};\n\tObject.keys(data).forEach(function (k) {\n\t  var split = k.split('|');\n\t  var obj = {\n\t    offset: Number(split[0]),\n\t    hem: split[1]\n\t  };\n\n\t  if (split[2]) {\n\t    obj.dst = split[2];\n\t  }\n\n\t  var names = data[k].split(',');\n\t  names.forEach(function (str) {\n\t    str = str.replace(/(^[0-9]+)\\//, function (before, num) {\n\t      num = Number(num);\n\t      return _prefixes[num] + '/';\n\t    });\n\t    all[str] = obj;\n\t  });\n\t});\n\tall['utc'] = {\n\t  offset: 0,\n\t  hem: 'n' //(sorry)\n\n\t}; //add etc/gmt+n\n\n\tfor (var i = -14; i <= 14; i += 0.5) {\n\t  var num = i;\n\n\t  if (num > 0) {\n\t    num = '+' + num;\n\t  }\n\n\t  var name = 'etc/gmt' + num;\n\t  all[name] = {\n\t    offset: i * -1,\n\t    //they're negative!\n\t    hem: 'n' //(sorry)\n\n\t  };\n\t  name = 'utc/gmt' + num; //this one too, why not.\n\n\t  all[name] = {\n\t    offset: i * -1,\n\t    hem: 'n'\n\t  };\n\t} // console.log(all)\n\t// console.log(Object.keys(all).length)\n\n\n\tvar unpack = all;\n\n\t//find the implicit iana code for this machine.\n\t//safely query the Intl object\n\t//based on - https://bitbucket.org/pellepim/jstimezonedetect/src\n\tvar fallbackTZ = 'utc'; //\n\t//this Intl object is not supported often, yet\n\n\tvar safeIntl = function safeIntl() {\n\t  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n\t    return null;\n\t  }\n\n\t  var format = Intl.DateTimeFormat();\n\n\t  if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n\t    return null;\n\t  }\n\n\t  var timezone = format.resolvedOptions().timeZone;\n\n\t  if (!timezone) {\n\t    return null;\n\t  }\n\n\t  return timezone.toLowerCase();\n\t};\n\n\tvar guessTz = function guessTz() {\n\t  var timezone = safeIntl();\n\n\t  if (timezone === null) {\n\t    return fallbackTZ;\n\t  }\n\n\t  return timezone;\n\t}; //do it once per computer\n\n\n\tvar guessTz_1 = guessTz;\n\n\tvar isOffset = /(\\-?[0-9]+)h(rs)?/i;\n\tvar isNumber = /(\\-?[0-9]+)/;\n\tvar utcOffset = /utc([\\-+]?[0-9]+)/i;\n\tvar gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\n\tvar toIana = function toIana(num) {\n\t  num = Number(num);\n\n\t  if (num > -13 && num < 13) {\n\t    num = num * -1; //it's opposite!\n\n\t    num = (num > 0 ? '+' : '') + num; //add plus sign\n\n\t    return 'etc/gmt' + num;\n\t  }\n\n\t  return null;\n\t};\n\n\tvar parseOffset = function parseOffset(tz) {\n\t  // '+5hrs'\n\t  var m = tz.match(isOffset);\n\n\t  if (m !== null) {\n\t    return toIana(m[1]);\n\t  } // 'utc+5'\n\n\n\t  m = tz.match(utcOffset);\n\n\t  if (m !== null) {\n\t    return toIana(m[1]);\n\t  } // 'GMT-5' (not opposite)\n\n\n\t  m = tz.match(gmtOffset);\n\n\t  if (m !== null) {\n\t    var num = Number(m[1]) * -1;\n\t    return toIana(num);\n\t  } // '+5'\n\n\n\t  m = tz.match(isNumber);\n\n\t  if (m !== null) {\n\t    return toIana(m[1]);\n\t  }\n\n\t  return null;\n\t};\n\n\tvar parseOffset_1 = parseOffset;\n\n\tvar local = guessTz_1(); //add all the city names by themselves\n\n\tvar cities = Object.keys(unpack).reduce(function (h, k) {\n\t  var city = k.split('/')[1] || '';\n\t  city = city.replace(/_/g, ' ');\n\t  h[city] = k;\n\t  return h;\n\t}, {}); //try to match these against iana form\n\n\tvar normalize = function normalize(tz) {\n\t  tz = tz.replace(/ time/g, '');\n\t  tz = tz.replace(/ (standard|daylight|summer)/g, '');\n\t  tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n\t  tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n\t  tz = tz.replace(/\\beuropean/g, 'europe');\n\t  tz = tz.replace(/\\islands/g, 'island');\n\t  return tz;\n\t}; // try our best to reconcile the timzone to this given string\n\n\n\tvar lookupTz = function lookupTz(str, zones) {\n\t  if (!str) {\n\t    return local;\n\t  }\n\n\t  var tz = str.trim();\n\t  var split = str.split('/'); //support long timezones like 'America/Argentina/Rio_Gallegos'\n\n\t  if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n\t    tz = split[0] + '/' + split[1];\n\t  }\n\n\t  tz = tz.toLowerCase();\n\n\t  if (zones.hasOwnProperty(tz) === true) {\n\t    return tz;\n\t  } //lookup more loosely..\n\n\n\t  tz = normalize(tz);\n\n\t  if (zones.hasOwnProperty(tz) === true) {\n\t    return tz;\n\t  } //try city-names\n\n\n\t  if (cities.hasOwnProperty(tz) === true) {\n\t    return cities[tz];\n\t  } // //try to parse '-5h'\n\n\n\t  if (/[0-9]/.test(tz) === true) {\n\t    var id = parseOffset_1(tz);\n\n\t    if (id) {\n\t      return id;\n\t    }\n\t  }\n\n\t  throw new Error(\"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\");\n\t};\n\n\tvar find = lookupTz;\n\n\tvar o = {\n\t  millisecond: 1\n\t};\n\to.second = 1000;\n\to.minute = 60000;\n\to.hour = 3.6e6; // dst is supported post-hoc\n\n\to.day = 8.64e7; //\n\n\to.date = o.day;\n\to.month = 8.64e7 * 29.5; //(average)\n\n\to.week = 6.048e8;\n\to.year = 3.154e10; // leap-years are supported post-hoc\n\t//add plurals\n\n\tObject.keys(o).forEach(function (k) {\n\t  o[k + 's'] = o[k];\n\t});\n\tvar milliseconds = o;\n\n\tvar walk = function walk(s, n, fn, unit, previous) {\n\t  var current = s.d[fn]();\n\n\t  if (current === n) {\n\t    return; //already there\n\t  }\n\n\t  var startUnit = previous === null ? null : s.d[previous]();\n\t  var original = s.epoch; //try to get it as close as we can\n\n\t  var diff = n - current;\n\t  s.epoch += milliseconds[unit] * diff; //DST edge-case: if we are going many days, be a little conservative\n\n\t  if (unit === 'day' && Math.abs(diff) > 28) {\n\t    //but don't push it over a month\n\t    if (n < 28) {\n\t      s.epoch += milliseconds.hour;\n\t    }\n\t  } //repair it if we've gone too far or something\n\t  //(go by half-steps, just in case)\n\n\n\t  var halfStep = milliseconds[unit] / 2;\n\n\t  while (s.d[fn]() < n) {\n\t    s.epoch += halfStep;\n\t  }\n\n\t  while (s.d[fn]() > n) {\n\t    s.epoch -= halfStep;\n\t  } //oops, did we change previous unit? revert it.\n\n\n\t  if (previous !== null && startUnit !== s.d[previous]()) {\n\t    // console.warn('spacetime warning: missed setting ' + unit)\n\t    s.epoch = original; // i mean, but make it close...\n\n\t    s.epoch += milliseconds[unit] * diff * 0.89; // i guess?\n\t  }\n\t}; //find the desired date by a increment/check while loop\n\n\n\tvar units = {\n\t  year: {\n\t    valid: function valid(n) {\n\t      return n > -4000 && n < 4000;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      return walk(s, n, 'getFullYear', 'year', null);\n\t    }\n\t  },\n\t  month: {\n\t    valid: function valid(n) {\n\t      return n >= 0 && n <= 11;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      var d = s.d;\n\t      var current = d.getMonth();\n\t      var original = s.epoch;\n\t      var startUnit = d.getFullYear();\n\n\t      if (current === n) {\n\t        return;\n\t      } //try to get it as close as we can..\n\n\n\t      var diff = n - current;\n\t      s.epoch += milliseconds.day * (diff * 28); //special case\n\t      //oops, did we change the year? revert it.\n\n\t      if (startUnit !== s.d.getFullYear()) {\n\t        s.epoch = original;\n\t      } //incriment by day\n\n\n\t      while (s.d.getMonth() < n) {\n\t        s.epoch += milliseconds.day;\n\t      }\n\n\t      while (s.d.getMonth() > n) {\n\t        s.epoch -= milliseconds.day;\n\t      }\n\t    }\n\t  },\n\t  date: {\n\t    valid: function valid(n) {\n\t      return n > 0 && n <= 31;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      return walk(s, n, 'getDate', 'day', 'getMonth');\n\t    }\n\t  },\n\t  hour: {\n\t    valid: function valid(n) {\n\t      return n >= 0 && n < 24;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      return walk(s, n, 'getHours', 'hour', 'getDate');\n\t    }\n\t  },\n\t  minute: {\n\t    valid: function valid(n) {\n\t      return n >= 0 && n < 60;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      return walk(s, n, 'getMinutes', 'minute', 'getHours');\n\t    }\n\t  },\n\t  second: {\n\t    valid: function valid(n) {\n\t      return n >= 0 && n < 60;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      //do this one directly\n\t      s.epoch = s.seconds(n).epoch;\n\t    }\n\t  },\n\t  millisecond: {\n\t    valid: function valid(n) {\n\t      return n >= 0 && n < 1000;\n\t    },\n\t    walkTo: function walkTo(s, n) {\n\t      //do this one directly\n\t      s.epoch = s.milliseconds(n).epoch;\n\t    }\n\t  }\n\t};\n\n\tvar walkTo = function walkTo(s, wants) {\n\t  var keys = Object.keys(units);\n\t  var old = s.clone();\n\n\t  for (var i = 0; i < keys.length; i++) {\n\t    var k = keys[i];\n\t    var n = wants[k];\n\n\t    if (n === undefined) {\n\t      n = old[k]();\n\t    }\n\n\t    if (typeof n === 'string') {\n\t      n = parseInt(n, 10);\n\t    } //make-sure it's valid\n\n\n\t    if (!units[k].valid(n)) {\n\t      s.epoch = null;\n\n\t      if (s.silent === false) {\n\t        console.warn('invalid ' + k + ': ' + n);\n\t      }\n\n\t      return;\n\t    } // console.log(k, n)\n\n\n\t    units[k].walkTo(s, n);\n\t  }\n\n\t  return;\n\t};\n\n\tvar walk_1 = walkTo;\n\n\tvar shortMonths = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sept', 'oct', 'nov', 'dec'];\n\tvar longMonths = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n\tfunction buildMapping() {\n\t  var obj = {\n\t    sep: 8 //support this format\n\n\t  };\n\n\t  for (var i = 0; i < shortMonths.length; i++) {\n\t    obj[shortMonths[i]] = i;\n\t  }\n\n\t  for (var _i = 0; _i < longMonths.length; _i++) {\n\t    obj[longMonths[_i]] = _i;\n\t  }\n\n\t  return obj;\n\t}\n\n\tvar months = {\n\t  \"short\": function short() {\n\t    return shortMonths;\n\t  },\n\t  \"long\": function long() {\n\t    return longMonths;\n\t  },\n\t  mapping: function mapping() {\n\t    return buildMapping();\n\t  },\n\t  set: function set(i18n) {\n\t    shortMonths = i18n[\"short\"] || shortMonths;\n\t    longMonths = i18n[\"long\"] || longMonths;\n\t  }\n\t};\n\n\t//pull-apart ISO offsets, like \"+0100\"\n\tvar parseOffset$1 = function parseOffset(s, offset) {\n\t  if (!offset) {\n\t    return s;\n\t  } //this is a fancy-move\n\n\n\t  if (offset === 'Z') {\n\t    offset = '+0000';\n\t  } // according to ISO8601, tz could be hh:mm, hhmm or hh\n\t  // so need few more steps before the calculation.\n\n\n\t  var num = 0; // for (+-)hh:mm\n\n\t  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n\t    //support \"+01:00\"\n\t    if (/:00/.test(offset) === true) {\n\t      offset = offset.replace(/:00/, '');\n\t    } //support \"+01:30\"\n\n\n\t    if (/:30/.test(offset) === true) {\n\t      offset = offset.replace(/:30/, '.5');\n\t    }\n\t  } // for (+-)hhmm\n\n\n\t  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n\t    offset = offset.replace(/30$/, '.5');\n\t  }\n\n\t  num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n\t  if (Math.abs(num) > 100) {\n\t    num = num / 100;\n\t  } //okay, try to match it to a utc timezone\n\t  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n\t  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n\t  num *= -1;\n\n\t  if (num >= 0) {\n\t    num = '+' + num;\n\t  }\n\n\t  var tz = 'etc/gmt' + num;\n\t  var zones = s.timezones;\n\n\t  if (zones[tz]) {\n\t    // log a warning if we're over-writing a given timezone?\n\t    // console.log('changing timezone to: ' + tz)\n\t    s.tz = tz;\n\t  }\n\n\t  return s;\n\t};\n\n\tvar parseOffset_1$1 = parseOffset$1;\n\n\tvar parseTime = function parseTime(s) {\n\t  var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t  str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n\t  //formal time formats - 04:30.23\n\n\t  var arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n\n\t  if (arr !== null) {\n\t    //validate it a little\n\t    var h = Number(arr[1]);\n\n\t    if (h < 0 || h > 24) {\n\t      return s.startOf('day');\n\t    }\n\n\t    var m = Number(arr[2]); //don't accept '5:3pm'\n\n\t    if (arr[2].length < 2 || m < 0 || m > 59) {\n\t      return s.startOf('day');\n\t    }\n\n\t    s = s.hour(h);\n\t    s = s.minute(m);\n\t    s = s.seconds(arr[3] || 0);\n\t    s = s.millisecond(arr[4] || 0); //parse-out am/pm\n\n\t    var ampm = str.match(/[\\b0-9](am|pm)\\b/);\n\n\t    if (ampm !== null && ampm[1]) {\n\t      s = s.ampm(ampm[1]);\n\t    }\n\n\t    return s;\n\t  } //try an informal form - 5pm (no minutes)\n\n\n\t  arr = str.match(/([0-9]+) ?(am|pm)/);\n\n\t  if (arr !== null && arr[1]) {\n\t    var _h = Number(arr[1]); //validate it a little..\n\n\n\t    if (_h > 12 || _h < 1) {\n\t      return s.startOf('day');\n\t    }\n\n\t    s = s.hour(arr[1] || 0);\n\t    s = s.ampm(arr[2]);\n\t    s = s.startOf('hour');\n\t    return s;\n\t  } //no time info found, use start-of-day\n\n\n\t  s = s.startOf('day');\n\t  return s;\n\t};\n\n\tvar parseTime_1 = parseTime;\n\n\tvar monthLengths = [31, // January - 31 days\n\t28, // February - 28 days in a common year and 29 days in leap years\n\t31, // March - 31 days\n\t30, // April - 30 days\n\t31, // May - 31 days\n\t30, // June - 30 days\n\t31, // July - 31 days\n\t31, // August - 31 days\n\t30, // September - 30 days\n\t31, // October - 31 days\n\t30, // November - 30 days\n\t31 // December - 31 days\n\t];\n\tvar monthLengths_1 = monthLengths;\n\n\tvar isLeapYear = fns.isLeapYear; //given a month, return whether day number exists in it\n\n\tvar hasDate = function hasDate(obj) {\n\t  //invalid values\n\t  if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n\t    return false;\n\t  } //support leap-year in february\n\n\n\t  if (obj.month === 1) {\n\t    if (isLeapYear(obj.year) && obj.date <= 29) {\n\t      return true;\n\t    } else {\n\t      return obj.date <= 28;\n\t    }\n\t  } //is this date too-big for this month?\n\n\n\t  var max = monthLengths_1[obj.month] || 0;\n\n\t  if (obj.date <= max) {\n\t    return true;\n\t  }\n\n\t  return false;\n\t};\n\n\tvar hasDate_1 = hasDate;\n\n\tvar months$1 = months.mapping();\n\n\tvar parseYear = function parseYear() {\n\t  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t  //support '18 -> 2018\n\t  // str = str.replace(/^'([0-9]{2})/, '20$1')\n\t  // str = str.replace('([0-9]+) ?b\\.?c\\.?$', '-$1')\n\t  var year = parseInt(str.trim(), 10);\n\t  year = year || new Date().getFullYear();\n\t  return year;\n\t};\n\n\tvar strFmt = [//iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n\t{\n\t  reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/,\n\t  parse: function parse(s, arr, givenTz, options) {\n\t    var month = parseInt(arr[2], 10) - 1;\n\t    var obj = {\n\t      year: arr[1],\n\t      month: month,\n\t      date: arr[3]\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    parseOffset_1$1(s, arr[5]);\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n\t{\n\t  reg: /^([0-9]{4})[\\-\\/]([0-9]{1,2})[\\-\\/]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n\t  parse: function parse(s, arr) {\n\t    var obj = {\n\t      year: arr[1],\n\t      month: parseInt(arr[2], 10) - 1,\n\t      date: parseInt(arr[3], 10)\n\t    };\n\n\t    if (obj.month >= 12) {\n\t      //support yyyy/dd/mm (weird, but ok)\n\t      obj.date = parseInt(arr[2], 10);\n\t      obj.month = parseInt(arr[3], 10) - 1;\n\t    }\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n\t{\n\t  reg: /^([0-9]{1,2})[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n\t  parse: function parse(s, arr) {\n\t    var month = parseInt(arr[1], 10) - 1;\n\t    var date = parseInt(arr[2], 10); //support dd/mm/yyy\n\n\t    if (s.british || month >= 12) {\n\t      date = parseInt(arr[1], 10);\n\t      month = parseInt(arr[2], 10) - 1;\n\t    }\n\n\t    var year = arr[3] || new Date().getFullYear();\n\t    var obj = {\n\t      year: year,\n\t      month: month,\n\t      date: date\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, //common british format - \"25-feb-2015\"\n\t{\n\t  reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n\t  parse: function parse(s, arr) {\n\t    var month = months$1[arr[2].toLowerCase()];\n\t    var year = parseYear(arr[3]);\n\t    var obj = {\n\t      year: year,\n\t      month: month,\n\t      date: fns.toCardinal(arr[1] || '')\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, //Long \"Mar 25 2015\"\n\t//February 22, 2017 15:30:00\n\t{\n\t  reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n\t  parse: function parse(s, arr) {\n\t    var month = months$1[arr[1].toLowerCase()];\n\t    var year = parseYear(arr[3]);\n\t    var obj = {\n\t      year: year,\n\t      month: month,\n\t      date: fns.toCardinal(arr[2] || '')\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, //February 2017 (implied date)\n\t{\n\t  reg: /^([a-z]+) ([0-9]{4})$/i,\n\t  parse: function parse(s, arr) {\n\t    var month = months$1[arr[1].toLowerCase()];\n\t    var year = parseYear(arr[2]);\n\t    var obj = {\n\t      year: year,\n\t      month: month,\n\t      date: 1\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, //Long \"25 Mar 2015\"\n\t{\n\t  reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n\t  parse: function parse(s, arr) {\n\t    var month = months$1[arr[2].toLowerCase()];\n\n\t    if (!month) {\n\t      return null;\n\t    }\n\n\t    var year = parseYear(arr[3]);\n\t    var obj = {\n\t      year: year,\n\t      month: month,\n\t      date: fns.toCardinal(arr[1])\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s, arr[4]);\n\t    return s;\n\t  }\n\t}, {\n\t  // '200bc'\n\t  reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n\t  parse: function parse(s, arr) {\n\t    var str = arr[0] || ''; //make negative-year\n\n\t    str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1'); //remove commas\n\n\t    str = str.replace(/,/g, '');\n\t    var year = parseInt(str.trim(), 10);\n\t    var d = new Date();\n\t    var obj = {\n\t      year: year,\n\t      month: d.getMonth(),\n\t      date: d.getDate()\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s);\n\t    return s;\n\t  }\n\t}, {\n\t  // '200ad'\n\t  reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n\t  parse: function parse(s, arr) {\n\t    var str = arr[0] || ''; //remove commas\n\n\t    str = str.replace(/,/g, '');\n\t    var year = parseInt(str.trim(), 10);\n\t    var d = new Date();\n\t    var obj = {\n\t      year: year,\n\t      month: d.getMonth(),\n\t      date: d.getDate()\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s);\n\t    return s;\n\t  }\n\t}, {\n\t  // '1992'\n\t  reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n\t  parse: function parse(s, arr) {\n\t    var year = parseYear(arr[0]);\n\t    var d = new Date();\n\t    var obj = {\n\t      year: year,\n\t      month: d.getMonth(),\n\t      date: d.getDate()\n\t    };\n\n\t    if (hasDate_1(obj) === false) {\n\t      s.epoch = null;\n\t      return s;\n\t    }\n\n\t    walk_1(s, obj);\n\t    s = parseTime_1(s);\n\t    return s;\n\t  }\n\t}];\n\tvar strParse = strFmt;\n\n\tvar dates = {\n\t  now: function now(s) {\n\t    s.epoch = Date.now();\n\t    return s;\n\t  },\n\t  tonight: function tonight(s) {\n\t    s.epoch = Date.now();\n\t    s = s.hour(18);\n\t    return s;\n\t  },\n\t  today: function today(s) {\n\t    s.epoch = Date.now();\n\t    return s;\n\t  },\n\t  tomorrow: function tomorrow(s) {\n\t    s.epoch = Date.now();\n\t    s = s.add(1, 'day');\n\t    s = s.startOf('day');\n\t    return s;\n\t  },\n\t  yesterday: function yesterday(s) {\n\t    s.epoch = Date.now();\n\t    s = s.subtract(1, 'day');\n\t    s = s.startOf('day');\n\t    return s;\n\t  },\n\t  christmas: function christmas(s) {\n\t    var year = new Date().getFullYear();\n\t    s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n\n\t    return s;\n\t  },\n\t  'new years': function newYears(s) {\n\t    var year = new Date().getFullYear();\n\t    s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n\n\t    return s;\n\t  }\n\t};\n\tdates['new years eve'] = dates['new years'];\n\tvar namedDates = dates;\n\n\t//  -  can't use built-in js parser ;(\n\t//=========================================\n\t// ISO Date\t  \"2015-03-25\"\n\t// Short Date\t\"03/25/2015\" or \"2015/03/25\"\n\t// Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n\t// Full Date\t\"Wednesday March 25 2015\"\n\t//=========================================\n\t//-- also -\n\t// if the given epoch is really small, they've probably given seconds and not milliseconds\n\t// anything below this number is likely (but not necessarily) a mistaken input.\n\t// this may seem like an arbitrary number, but it's 'within jan 1970'\n\t// this is only really ambiguous until 2054 or so\n\n\tvar minimumEpoch = 2500000000;\n\tvar defaults = {\n\t  year: new Date().getFullYear(),\n\t  month: 0,\n\t  date: 1\n\t}; //support [2016, 03, 01] format\n\n\tvar handleArray = function handleArray(s, arr) {\n\t  var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n\t  for (var i = 0; i < order.length; i++) {\n\t    var num = arr[i] || defaults[order[i]] || 0;\n\t    s = s[order[i]](num);\n\t  }\n\n\t  return s;\n\t}; //support {year:2016, month:3} format\n\n\n\tvar handleObject = function handleObject(s, obj) {\n\t  obj = Object.assign({}, defaults, obj);\n\t  var keys = Object.keys(obj);\n\n\t  for (var i = 0; i < keys.length; i++) {\n\t    var unit = keys[i]; //make sure we have this method\n\n\t    if (s[unit] === undefined || typeof s[unit] !== 'function') {\n\t      continue;\n\t    } //make sure the value is a number\n\n\n\t    if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n\t      continue;\n\t    }\n\n\t    var num = obj[unit] || defaults[unit] || 0;\n\t    s = s[unit](num);\n\t  }\n\n\t  return s;\n\t}; //find the epoch from different input styles\n\n\n\tvar parseInput = function parseInput(s, input, givenTz) {\n\t  //if we've been given a epoch number, it's easy\n\t  if (typeof input === 'number') {\n\t    if (input > 0 && input < minimumEpoch && s.silent === false) {\n\t      console.warn('  - Warning: You are setting the date to January 1970.');\n\t      console.warn('       -   did input seconds instead of milliseconds?');\n\t    }\n\n\t    s.epoch = input;\n\t    return s;\n\t  } //set tmp time\n\n\n\t  s.epoch = Date.now();\n\n\t  if (input === null || input === undefined) {\n\t    return s; //k, we're good.\n\t  } //support input of Date() object\n\n\n\t  if (fns.isDate(input) === true) {\n\t    s.epoch = input.getTime();\n\t    return s;\n\t  } //support [2016, 03, 01] format\n\n\n\t  if (fns.isArray(input) === true) {\n\t    s = handleArray(s, input);\n\t    return s;\n\t  } //support {year:2016, month:3} format\n\n\n\t  if (fns.isObject(input) === true) {\n\t    //support spacetime object as input\n\t    if (input.epoch) {\n\t      s.epoch = input.epoch;\n\t      s.tz = input.tz;\n\t      return s;\n\t    }\n\n\t    s = handleObject(s, input);\n\t    return s;\n\t  } //input as a string..\n\n\n\t  if (typeof input !== 'string') {\n\t    return s;\n\t  } //little cleanup..\n\n\n\t  input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n\t  input = input.replace(/,/g, '');\n\t  input = input.replace(/ +/g, ' ').trim(); //try some known-words, like 'now'\n\n\t  if (namedDates.hasOwnProperty(input) === true) {\n\t    s = namedDates[input](s);\n\t    return s;\n\t  } //try each text-parse template, use the first good result\n\n\n\t  for (var i = 0; i < strParse.length; i++) {\n\t    var m = input.match(strParse[i].reg);\n\n\t    if (m) {\n\t      var res = strParse[i].parse(s, m, givenTz);\n\n\t      if (res !== null) {\n\t        return res;\n\t      }\n\t    }\n\t  }\n\n\t  if (s.silent === false) {\n\t    console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n\t  }\n\n\t  s.epoch = null;\n\t  return s;\n\t};\n\n\tvar input = parseInput;\n\n\tvar shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n\tvar longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n\tvar days = {\n\t  \"short\": function short() {\n\t    return shortDays;\n\t  },\n\t  \"long\": function long() {\n\t    return longDays;\n\t  },\n\t  set: function set(i18n) {\n\t    shortDays = i18n[\"short\"] || shortDays;\n\t    longDays = i18n[\"long\"] || longDays;\n\t  }\n\t};\n\n\t// it's kind of nuts how involved this is\n\t// \"+01:00\", \"+0100\", or simply \"+01\"\n\n\tvar isoOffset = function isoOffset(s) {\n\t  var offset = s.timezone().current.offset;\n\t  var isNegative = offset < 0;\n\t  var minute = '00'; //handle 5.5 → '5:30'\n\n\t  if (Math.abs(offset % 1) === 0.5) {\n\t    minute = '30';\n\n\t    if (offset >= 0) {\n\t      offset = Math.floor(offset);\n\t    } else {\n\t      offset = Math.ceil(offset);\n\t    }\n\t  }\n\n\t  if (isNegative) {\n\t    //handle negative sign\n\t    offset *= -1;\n\t    offset = fns.zeroPad(offset, 2);\n\t    offset = '-' + offset;\n\t  } else {\n\t    offset = fns.zeroPad(offset, 2);\n\t    offset = '+' + offset;\n\t  }\n\n\t  offset = offset + ':' + minute; //'Z' means 00\n\n\t  if (offset === '+00:00') {\n\t    offset = 'Z';\n\t  }\n\n\t  return offset;\n\t};\n\n\tvar _offset = isoOffset;\n\n\tvar format = {\n\t  day: function day(s) {\n\t    return fns.titleCase(s.dayName());\n\t  },\n\t  'day-short': function dayShort(s) {\n\t    return fns.titleCase(days[\"short\"]()[s.day()]);\n\t  },\n\t  'day-number': function dayNumber(s) {\n\t    return s.day();\n\t  },\n\t  'day-ordinal': function dayOrdinal(s) {\n\t    return fns.ordinal(s.day());\n\t  },\n\t  'day-pad': function dayPad(s) {\n\t    return fns.zeroPad(s.day());\n\t  },\n\t  date: function date(s) {\n\t    return s.date();\n\t  },\n\t  'date-ordinal': function dateOrdinal(s) {\n\t    return fns.ordinal(s.date());\n\t  },\n\t  'date-pad': function datePad(s) {\n\t    return fns.zeroPad(s.date());\n\t  },\n\t  month: function month(s) {\n\t    return fns.titleCase(s.monthName());\n\t  },\n\t  'month-short': function monthShort(s) {\n\t    return fns.titleCase(months[\"short\"]()[s.month()]);\n\t  },\n\t  'month-number': function monthNumber(s) {\n\t    return s.month();\n\t  },\n\t  'month-ordinal': function monthOrdinal(s) {\n\t    return fns.ordinal(s.month());\n\t  },\n\t  'month-pad': function monthPad(s) {\n\t    return fns.zeroPad(s.month());\n\t  },\n\t  'iso-month': function isoMonth(s) {\n\t    return fns.zeroPad(s.month() + 1);\n\t  },\n\t  //1-based months\n\t  year: function year(s) {\n\t    var year = s.year();\n\n\t    if (year > 0) {\n\t      return year;\n\t    }\n\n\t    year = Math.abs(year);\n\t    return year + ' BC';\n\t  },\n\t  'year-short': function yearShort(s) {\n\t    var year = s.year();\n\n\t    if (year > 0) {\n\t      return \"'\".concat(String(s.year()).substr(2, 4));\n\t    }\n\n\t    year = Math.abs(year);\n\t    return year + ' BC';\n\t  },\n\t  'iso-year': function isoYear(s) {\n\t    var year = s.year();\n\t    var isNegative = year < 0;\n\t    var str = fns.zeroPad(Math.abs(year), 4); //0-padded\n\n\t    if (isNegative) {\n\t      //negative years are for some reason 6-digits ('-00008')\n\t      str = fns.zeroPad(str, 6);\n\t      str = '-' + str;\n\t    }\n\n\t    return str;\n\t  },\n\t  time: function time(s) {\n\t    return s.time();\n\t  },\n\t  'time-24': function time24(s) {\n\t    return \"\".concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n\t  },\n\t  hour: function hour(s) {\n\t    return s.hour12();\n\t  },\n\t  'hour-pad': function hourPad(s) {\n\t    return fns.zeroPad(s.hour12());\n\t  },\n\t  'hour-24': function hour24(s) {\n\t    return s.hour24();\n\t  },\n\t  'hour-24-pad': function hour24Pad(s) {\n\t    return fns.zeroPad(s.hour24());\n\t  },\n\t  minute: function minute(s) {\n\t    return s.minute();\n\t  },\n\t  'minute-pad': function minutePad(s) {\n\t    return fns.zeroPad(s.minute());\n\t  },\n\t  second: function second(s) {\n\t    return s.second();\n\t  },\n\t  'second-pad': function secondPad(s) {\n\t    return fns.zeroPad(s.second());\n\t  },\n\t  ampm: function ampm(s) {\n\t    return s.ampm();\n\t  },\n\t  quarter: function quarter(s) {\n\t    return 'Q' + s.quarter();\n\t  },\n\t  season: function season(s) {\n\t    return s.season();\n\t  },\n\t  era: function era(s) {\n\t    return s.era();\n\t  },\n\t  json: function json(s) {\n\t    return s.json();\n\t  },\n\t  timezone: function timezone(s) {\n\t    return s.timezone().name;\n\t  },\n\t  offset: function offset(s) {\n\t    return _offset(s);\n\t  },\n\t  numeric: function numeric(s) {\n\t    return \"\".concat(s.year(), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n\t  },\n\t  // yyyy/mm/dd\n\t  'numeric-us': function numericUs(s) {\n\t    return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()), \"/\").concat(s.year());\n\t  },\n\t  // mm/dd/yyyy\n\t  'numeric-uk': function numericUk(s) {\n\t    return \"\".concat(fns.zeroPad(s.date()), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(s.year());\n\t  },\n\t  //dd/mm/yyyy\n\t  'mm/dd': function mmDd(s) {\n\t    return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n\t  },\n\t  //mm/dd\n\t  // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n\t  iso: function iso(s) {\n\t    var year = s.format('iso-year');\n\t    var month = fns.zeroPad(s.month() + 1); //1-based months\n\n\t    var date = fns.zeroPad(s.date());\n\t    var hour = fns.zeroPad(s.h24());\n\t    var minute = fns.zeroPad(s.minute());\n\t    var second = fns.zeroPad(s.second());\n\t    var ms = fns.zeroPad(s.millisecond(), 3);\n\t    var offset = _offset(s);\n\t    return \"\".concat(year, \"-\").concat(month, \"-\").concat(date, \"T\").concat(hour, \":\").concat(minute, \":\").concat(second, \".\").concat(ms).concat(offset); //2018-03-09T08:50:00.000-05:00\n\t  },\n\t  'iso-short': function isoShort(s) {\n\t    var month = fns.zeroPad(s.month() + 1); //1-based months\n\n\t    var date = fns.zeroPad(s.date());\n\t    return \"\".concat(s.year(), \"-\").concat(month, \"-\").concat(date); //2017-02-15\n\t  },\n\t  'iso-utc': function isoUtc(s) {\n\t    return new Date(s.epoch).toISOString(); //2017-03-08T19:45:28.367Z\n\t  },\n\t  //i made these up\n\t  nice: function nice(s) {\n\t    return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n\t  },\n\t  'nice-year': function niceYear(s) {\n\t    return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.year());\n\t  },\n\t  'nice-day': function niceDay(s) {\n\t    return \"\".concat(days[\"short\"]()[s.day()], \" \").concat(fns.titleCase(months[\"short\"]()[s.month()]), \" \").concat(fns.ordinal(s.date()));\n\t  },\n\t  'nice-full': function niceFull(s) {\n\t    return \"\".concat(s.dayName(), \" \").concat(fns.titleCase(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n\t  }\n\t}; //aliases\n\n\tvar aliases = {\n\t  'day-name': 'day',\n\t  'month-name': 'month',\n\t  'iso 8601': 'iso',\n\t  'time-h24': 'time-24',\n\t  'time-12': 'time',\n\t  'time-h12': 'time',\n\t  tz: 'timezone',\n\t  'day-num': 'day-number',\n\t  'month-num': 'month-number',\n\t  'month-iso': 'iso-month',\n\t  'year-iso': 'iso-year',\n\t  'nice-short': 'nice',\n\t  mdy: 'numeric-us',\n\t  dmy: 'numeric-uk',\n\t  ymd: 'numeric',\n\t  'yyyy/mm/dd': 'numeric',\n\t  'mm/dd/yyyy': 'numeric-us',\n\t  'dd/mm/yyyy': 'numeric-us',\n\t  'little-endian': 'numeric-uk',\n\t  'big-endian': 'numeric',\n\t  'day-nice': 'nice-day'\n\t};\n\tObject.keys(aliases).forEach(function (k) {\n\t  return format[k] = format[aliases[k]];\n\t});\n\n\tvar printFormat = function printFormat(s) {\n\t  var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n\t  //don't print anything if it's an invalid date\n\t  if (s.isValid() !== true) {\n\t    return '';\n\t  } //support .format('month')\n\n\n\t  if (format.hasOwnProperty(str)) {\n\t    var out = format[str](s) || '';\n\n\t    if (str !== 'json') {\n\t      out = String(out);\n\n\t      if (str !== 'ampm') {\n\t        out = fns.titleCase(out);\n\t      }\n\t    }\n\n\t    return out;\n\t  } //support '{hour}:{minute}' notation\n\n\n\t  if (str.indexOf('{') !== -1) {\n\t    var sections = /\\{(.+?)\\}/g;\n\t    str = str.replace(sections, function (_, fmt) {\n\t      fmt = fmt.toLowerCase().trim();\n\n\t      if (format.hasOwnProperty(fmt)) {\n\t        return String(format[fmt](s) || '');\n\t      }\n\n\t      return '';\n\t    });\n\t    return str;\n\t  }\n\n\t  return s.format('iso-short');\n\t};\n\n\tvar format_1 = printFormat;\n\n\tvar pad = fns.zeroPad;\n\tvar formatTimezone = fns.formatTimezone; //parse this insane unix-time-templating thing, from the 19th century\n\t//http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n\t//time-symbols we support\n\n\tvar mapping = {\n\t  G: function G(s) {\n\t    return s.era();\n\t  },\n\t  GG: function GG(s) {\n\t    return s.era();\n\t  },\n\t  GGG: function GGG(s) {\n\t    return s.era();\n\t  },\n\t  GGGG: function GGGG(s) {\n\t    return s.era() === 'AD' ? 'Anno Domini' : 'Before Christ';\n\t  },\n\t  //year\n\t  y: function y(s) {\n\t    return s.year();\n\t  },\n\t  yy: function yy(s) {\n\t    //last two chars\n\t    return parseInt(String(s.year()).substr(2, 4), 10);\n\t  },\n\t  yyy: function yyy(s) {\n\t    return s.year();\n\t  },\n\t  yyyy: function yyyy(s) {\n\t    return s.year();\n\t  },\n\t  yyyyy: function yyyyy(s) {\n\t    return '0' + s.year();\n\t  },\n\t  // u: (s) => {},//extended non-gregorian years\n\t  //quarter\n\t  Q: function Q(s) {\n\t    return s.quarter();\n\t  },\n\t  QQ: function QQ(s) {\n\t    return s.quarter();\n\t  },\n\t  QQQ: function QQQ(s) {\n\t    return s.quarter();\n\t  },\n\t  QQQQ: function QQQQ(s) {\n\t    return s.quarter();\n\t  },\n\t  //month\n\t  M: function M(s) {\n\t    return s.month() + 1;\n\t  },\n\t  MM: function MM(s) {\n\t    return pad(s.month() + 1);\n\t  },\n\t  MMM: function MMM(s) {\n\t    return s.format('month-short');\n\t  },\n\t  MMMM: function MMMM(s) {\n\t    return s.format('month');\n\t  },\n\t  //week\n\t  w: function w(s) {\n\t    return s.week();\n\t  },\n\t  ww: function ww(s) {\n\t    return pad(s.week());\n\t  },\n\t  //week of month\n\t  // W: (s) => s.week(),\n\t  //date of month\n\t  d: function d(s) {\n\t    return s.date();\n\t  },\n\t  dd: function dd(s) {\n\t    return pad(s.date());\n\t  },\n\t  //date of year\n\t  D: function D(s) {\n\t    return s.dayOfYear();\n\t  },\n\t  DD: function DD(s) {\n\t    return pad(s.dayOfYear());\n\t  },\n\t  DDD: function DDD(s) {\n\t    return pad(s.dayOfYear(), 3);\n\t  },\n\t  // F: (s) => {},//date of week in month\n\t  // g: (s) => {},//modified julian day\n\t  //day\n\t  E: function E(s) {\n\t    return s.format('day-short');\n\t  },\n\t  EE: function EE(s) {\n\t    return s.format('day-short');\n\t  },\n\t  EEE: function EEE(s) {\n\t    return s.format('day-short');\n\t  },\n\t  EEEE: function EEEE(s) {\n\t    return s.format('day');\n\t  },\n\t  EEEEE: function EEEEE(s) {\n\t    return s.format('day')[0];\n\t  },\n\t  e: function e(s) {\n\t    return s.day();\n\t  },\n\t  ee: function ee(s) {\n\t    return s.day();\n\t  },\n\t  eee: function eee(s) {\n\t    return s.format('day-short');\n\t  },\n\t  eeee: function eeee(s) {\n\t    return s.format('day');\n\t  },\n\t  eeeee: function eeeee(s) {\n\t    return s.format('day')[0];\n\t  },\n\t  //am/pm\n\t  a: function a(s) {\n\t    return s.ampm().toUpperCase();\n\t  },\n\t  aa: function aa(s) {\n\t    return s.ampm().toUpperCase();\n\t  },\n\t  aaa: function aaa(s) {\n\t    return s.ampm().toUpperCase();\n\t  },\n\t  aaaa: function aaaa(s) {\n\t    return s.ampm().toUpperCase();\n\t  },\n\t  //hour\n\t  h: function h(s) {\n\t    return s.h12();\n\t  },\n\t  hh: function hh(s) {\n\t    return pad(s.h12());\n\t  },\n\t  H: function H(s) {\n\t    return s.hour();\n\t  },\n\t  HH: function HH(s) {\n\t    return pad(s.hour());\n\t  },\n\t  // j: (s) => {},//weird hour format\n\t  m: function m(s) {\n\t    return s.minute();\n\t  },\n\t  mm: function mm(s) {\n\t    return pad(s.minute());\n\t  },\n\t  s: function s(_s) {\n\t    return _s.second();\n\t  },\n\t  ss: function ss(s) {\n\t    return pad(s.second());\n\t  },\n\t  //milliseconds in the day\n\t  A: function A(s) {\n\t    return s.epoch - s.startOf('day').epoch;\n\t  },\n\t  //timezone\n\t  z: function z(s) {\n\t    return s.timezone().name;\n\t  },\n\t  zz: function zz(s) {\n\t    return s.timezone().name;\n\t  },\n\t  zzz: function zzz(s) {\n\t    return s.timezone().name;\n\t  },\n\t  zzzz: function zzzz(s) {\n\t    return s.timezone().name;\n\t  },\n\t  Z: function Z(s) {\n\t    return formatTimezone(s.timezone().current.offset);\n\t  },\n\t  ZZ: function ZZ(s) {\n\t    return formatTimezone(s.timezone().current.offset);\n\t  },\n\t  ZZZ: function ZZZ(s) {\n\t    return formatTimezone(s.timezone().current.offset);\n\t  },\n\t  ZZZZ: function ZZZZ(s) {\n\t    return formatTimezone(s.timezone().current.offset, ':');\n\t  }\n\t};\n\n\tvar addAlias = function addAlias(_char, to, n) {\n\t  var name = _char;\n\t  var toName = to;\n\n\t  for (var i = 0; i < n; i += 1) {\n\t    mapping[name] = mapping[toName];\n\t    name += _char;\n\t    toName += to;\n\t  }\n\t};\n\n\taddAlias('q', 'Q', 4);\n\taddAlias('L', 'M', 4);\n\taddAlias('Y', 'y', 4);\n\taddAlias('c', 'e', 4);\n\taddAlias('k', 'H', 2);\n\taddAlias('K', 'h', 2);\n\taddAlias('S', 's', 2);\n\taddAlias('v', 'z', 4);\n\taddAlias('V', 'Z', 4);\n\n\tvar unixFmt = function unixFmt(s, str) {\n\t  var chars = str.split(''); //combine consecutive chars, like 'yyyy' as one.\n\n\t  var arr = [chars[0]];\n\t  var quoteOn = false;\n\n\t  for (var i = 1; i < chars.length; i += 1) {\n\t    //support quoted substrings\n\t    if (chars[i] === \"'\") {\n\t      quoteOn = !quoteOn; //support '', meaning one tick\n\n\t      if (quoteOn === true && chars[i + 1] && chars[i + 1] === \"'\") {\n\t        quoteOn = true;\n\t      } else {\n\t        continue;\n\t      }\n\t    } //merge it with the last one\n\n\n\t    if (quoteOn === true || chars[i] === arr[arr.length - 1][0]) {\n\t      arr[arr.length - 1] += chars[i];\n\t    } else {\n\t      arr.push(chars[i]);\n\t    }\n\t  }\n\n\t  return arr.reduce(function (txt, c) {\n\t    if (mapping[c] !== undefined) {\n\t      txt += mapping[c](s) || '';\n\t    } else {\n\t      txt += c;\n\t    }\n\n\t    return txt;\n\t  }, '');\n\t};\n\n\tvar unixFmt_1 = unixFmt;\n\n\tvar units$1 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\n\tvar doUnit = function doUnit(s, k) {\n\t  var start = s.clone().startOf(k);\n\t  var end = s.clone().endOf(k);\n\t  var duration = end.epoch - start.epoch;\n\t  var percent = (s.epoch - start.epoch) / duration;\n\t  return parseFloat(percent.toFixed(2));\n\t}; //how far it is along, from 0-1\n\n\n\tvar progress = function progress(s, unit) {\n\t  if (unit) {\n\t    unit = fns.normalize(unit);\n\t    return doUnit(s, unit);\n\t  }\n\n\t  var obj = {};\n\t  units$1.forEach(function (k) {\n\t    obj[k] = doUnit(s, k);\n\t  });\n\t  return obj;\n\t};\n\n\tvar progress_1 = progress;\n\n\tvar nearest = function nearest(s, unit) {\n\t  //how far have we gone?\n\t  var prog = s.progress();\n\t  unit = fns.normalize(unit); //fix camel-case for this one\n\n\t  if (unit === 'quarterhour') {\n\t    unit = 'quarterHour';\n\t  }\n\n\t  if (prog[unit] !== undefined) {\n\t    // go forward one?\n\t    if (prog[unit] > 0.5) {\n\t      s = s.add(1, unit);\n\t    } // go to start\n\n\n\t    s = s.startOf(unit);\n\t  } else if (s.silent === false) {\n\t    console.warn(\"no known unit '\" + unit + \"'\");\n\t  }\n\n\t  return s;\n\t};\n\n\tvar nearest_1 = nearest;\n\n\t//increment until dates are the same\n\tvar climb = function climb(a, b, unit) {\n\t  var i = 0;\n\t  a = a.clone();\n\n\t  while (a.isBefore(b)) {\n\t    //do proper, expensive increment to catch all-the-tricks\n\t    a = a.add(1, unit);\n\t    i += 1;\n\t  } //oops, we went too-far..\n\n\n\t  if (a.isAfter(b, unit)) {\n\t    i -= 1;\n\t  }\n\n\t  return i;\n\t}; // do a thurough +=1 on the unit, until they match\n\t// for speed-reasons, only used on day, month, week.\n\n\n\tvar diffOne = function diffOne(a, b, unit) {\n\t  if (a.isBefore(b)) {\n\t    return climb(a, b, unit);\n\t  } else {\n\t    return climb(b, a, unit) * -1; //reverse it\n\t  }\n\t};\n\n\tvar one = diffOne;\n\n\t// 2020 - 2019 may be 1 year, or 0 years\n\t// - '1 year difference' means 366 days during a leap year\n\n\tvar fastYear = function fastYear(a, b) {\n\t  var years = b.year() - a.year(); // should we decrement it by 1?\n\n\t  a = a.year(b.year());\n\n\t  if (a.isAfter(b)) {\n\t    years -= 1;\n\t  }\n\n\t  return years;\n\t}; // use a waterfall-method for computing a diff of any 'pre-knowable' units\n\t// compute years, then compute months, etc..\n\t// ... then ms-math for any very-small units\n\n\n\tvar diff = function diff(a, b) {\n\t  // an hour is always the same # of milliseconds\n\t  // so these units can be 'pre-calculated'\n\t  var msDiff = b.epoch - a.epoch;\n\t  var obj = {\n\t    milliseconds: msDiff,\n\t    seconds: parseInt(msDiff / 1000, 10)\n\t  };\n\t  obj.minutes = parseInt(obj.seconds / 60, 10);\n\t  obj.hours = parseInt(obj.minutes / 60, 10); //do the year\n\n\t  var tmp = a.clone();\n\t  obj.years = fastYear(tmp, b);\n\t  tmp = a.add(obj.years, 'year'); //there's always 12 months in a year...\n\n\t  obj.months = obj.years * 12;\n\t  tmp = a.add(obj.months, 'month');\n\t  obj.months += one(tmp, b, 'month'); // there's always atleast 52 weeks in a year..\n\t  // (month * 4) isn't as close\n\n\t  obj.weeks = obj.years * 52;\n\t  tmp = a.add(obj.weeks, 'week');\n\t  obj.weeks += one(tmp, b, 'week'); // there's always atleast 7 days in a week\n\n\t  obj.days = obj.weeks * 7;\n\t  tmp = a.add(obj.days, 'day');\n\t  obj.days += one(tmp, b, 'day');\n\t  return obj;\n\t};\n\n\tvar waterfall = diff;\n\n\tvar reverseDiff = function reverseDiff(obj) {\n\t  Object.keys(obj).forEach(function (k) {\n\t    obj[k] *= -1;\n\t  });\n\t  return obj;\n\t}; // this method counts a total # of each unit, between a, b.\n\t// '1 month' means 28 days in february\n\t// '1 year' means 366 days in a leap year\n\n\n\tvar main = function main(a, b, unit) {\n\t  b = fns.beADate(b, a); //reverse values, if necessary\n\n\t  var reversed = false;\n\n\t  if (a.isAfter(b)) {\n\t    var tmp = a;\n\t    a = b;\n\t    b = tmp;\n\t    reversed = true;\n\t  } //compute them all (i know!)\n\n\n\t  var obj = waterfall(a, b);\n\n\t  if (reversed) {\n\t    obj = reverseDiff(obj);\n\t  } //return just the requested unit\n\n\n\t  if (unit) {\n\t    //make sure it's plural-form\n\t    unit = fns.normalize(unit);\n\n\t    if (/s$/.test(unit) !== true) {\n\t      unit += 's';\n\t    }\n\n\t    if (unit === 'dates') {\n\t      unit = 'days';\n\t    }\n\n\t    return obj[unit];\n\t  }\n\n\t  return obj;\n\t};\n\n\tvar diff$1 = main;\n\n\t//our conceptual 'break-points' for each unit\n\n\tvar qualifiers = {\n\t  months: {\n\t    almost: 10,\n\t    over: 4\n\t  },\n\t  days: {\n\t    almost: 25,\n\t    over: 10\n\t  },\n\t  hours: {\n\t    almost: 20,\n\t    over: 8\n\t  },\n\t  minutes: {\n\t    almost: 50,\n\t    over: 20\n\t  },\n\t  seconds: {\n\t    almost: 50,\n\t    over: 20\n\t  }\n\t}; //get number of hours/minutes... between the two dates\n\n\tfunction getDiff(a, b) {\n\t  var isBefore = a.isBefore(b);\n\t  var later = isBefore ? b : a;\n\t  var earlier = isBefore ? a : b;\n\t  earlier = earlier.clone();\n\t  var diff = {\n\t    years: 0,\n\t    months: 0,\n\t    days: 0,\n\t    hours: 0,\n\t    minutes: 0,\n\t    seconds: 0\n\t  };\n\t  Object.keys(diff).forEach(function (unit) {\n\t    if (earlier.isSame(later, unit)) {\n\t      return;\n\t    }\n\n\t    var max = earlier.diff(later, unit);\n\t    earlier = earlier.add(max, unit);\n\t    diff[unit] = max;\n\t  }); //reverse it, if necessary\n\n\t  if (isBefore) {\n\t    Object.keys(diff).forEach(function (u) {\n\t      if (diff[u] !== 0) {\n\t        diff[u] *= -1;\n\t      }\n\t    });\n\t  }\n\n\t  return diff;\n\t} // Expects a plural unit arg\n\n\n\tfunction pluralize(value, unit) {\n\t  if (value === 1) {\n\t    unit = unit.slice(0, -1);\n\t  }\n\n\t  return value + ' ' + unit;\n\t} //create the human-readable diff between the two dates\n\n\n\tvar since = function since(start, end) {\n\t  end = fns.beADate(end, start);\n\t  var diff = getDiff(start, end);\n\t  var isNow = Object.keys(diff).every(function (u) {\n\t    return !diff[u];\n\t  });\n\n\t  if (isNow === true) {\n\t    return {\n\t      diff: diff,\n\t      rounded: 'now',\n\t      qualified: 'now',\n\t      precise: 'now'\n\t    };\n\t  }\n\n\t  var rounded;\n\t  var qualified;\n\t  var precise;\n\t  var englishValues = []; //go through each value and create its text-representation\n\n\t  Object.keys(diff).forEach(function (unit, i, units) {\n\t    var value = Math.abs(diff[unit]);\n\n\t    if (value === 0) {\n\t      return;\n\t    }\n\n\t    var englishValue = pluralize(value, unit);\n\t    englishValues.push(englishValue);\n\n\t    if (!rounded) {\n\t      rounded = qualified = englishValue;\n\n\t      if (i > 4) {\n\t        return;\n\t      } //is it a 'almost' something, etc?\n\n\n\t      var nextUnit = units[i + 1];\n\t      var nextValue = Math.abs(diff[nextUnit]);\n\n\t      if (nextValue > qualifiers[nextUnit].almost) {\n\t        rounded = pluralize(value + 1, unit);\n\t        qualified = 'almost ' + rounded;\n\t      } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n\t    }\n\t  }); //make them into a string\n\n\t  precise = englishValues.splice(0, 2).join(', '); //handle before/after logic\n\n\t  if (start.isAfter(end) === true) {\n\t    rounded += ' ago';\n\t    qualified += ' ago';\n\t    precise += ' ago';\n\t  } else {\n\t    rounded = 'in ' + rounded;\n\t    qualified = 'in ' + qualified;\n\t    precise = 'in ' + precise;\n\t  }\n\n\t  return {\n\t    diff: diff,\n\t    rounded: rounded,\n\t    qualified: qualified,\n\t    precise: precise\n\t  };\n\t};\n\n\tvar since_1 = since;\n\n\t//https://www.timeanddate.com/calendar/aboutseasons.html\n\t// Spring - from March 1 to May 31;\n\t// Summer - from June 1 to August 31;\n\t// Fall (autumn) - from September 1 to November 30; and,\n\t// Winter - from December 1 to February 28 (February 29 in a leap year).\n\tvar seasons = {\n\t  north: [['spring', 2, 1], //spring march 1\n\t  ['summer', 5, 1], //june 1\n\t  ['fall', 8, 1], //sept 1\n\t  ['autumn', 8, 1], //sept 1\n\t  ['winter', 11, 1] //dec 1\n\t  ],\n\t  south: [['fall', 2, 1], //march 1\n\t  ['autumn', 2, 1], //march 1\n\t  ['winter', 5, 1], //june 1\n\t  ['spring', 8, 1], //sept 1\n\t  ['summer', 11, 1] //dec 1\n\t  ]\n\t};\n\n\tvar quarters = [null, [0, 1], //jan 1\n\t[3, 1], //apr 1\n\t[6, 1], //july 1\n\t[9, 1] //oct 1\n\t];\n\n\tvar units$2 = {\n\t  minute: function minute(s) {\n\t    walk_1(s, {\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  quarterhour: function quarterhour(s) {\n\t    var minute = s.minutes();\n\n\t    if (minute >= 45) {\n\t      s = s.minutes(45);\n\t    } else if (minute >= 30) {\n\t      s = s.minutes(30);\n\t    } else if (minute >= 15) {\n\t      s = s.minutes(15);\n\t    } else {\n\t      s = s.minutes(0);\n\t    }\n\n\t    walk_1(s, {\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  hour: function hour(s) {\n\t    walk_1(s, {\n\t      minute: 0,\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  day: function day(s) {\n\t    walk_1(s, {\n\t      hour: 0,\n\t      minute: 0,\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  week: function week(s) {\n\t    var original = s.clone();\n\t    s = s.day(s._weekStart); //monday\n\n\t    if (s.isAfter(original)) {\n\t      s = s.subtract(1, 'week');\n\t    }\n\n\t    walk_1(s, {\n\t      hour: 0,\n\t      minute: 0,\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  month: function month(s) {\n\t    walk_1(s, {\n\t      date: 1,\n\t      hour: 0,\n\t      minute: 0,\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  quarter: function quarter(s) {\n\t    var q = s.quarter();\n\n\t    if (quarters[q]) {\n\t      walk_1(s, {\n\t        month: quarters[q][0],\n\t        date: quarters[q][1],\n\t        hour: 0,\n\t        minute: 0,\n\t        second: 0,\n\t        millisecond: 0\n\t      });\n\t    }\n\n\t    return s;\n\t  },\n\t  season: function season(s) {\n\t    var current = s.season();\n\t    var hem = 'north';\n\n\t    if (s.hemisphere() === 'South') {\n\t      hem = 'south';\n\t    }\n\n\t    for (var i = 0; i < seasons[hem].length; i++) {\n\t      if (seasons[hem][i][0] === current) {\n\t        //winter goes between years\n\t        var year = s.year();\n\n\t        if (current === 'winter' && s.month() < 3) {\n\t          year -= 1;\n\t        }\n\n\t        walk_1(s, {\n\t          year: year,\n\t          month: seasons[hem][i][1],\n\t          date: seasons[hem][i][2],\n\t          hour: 0,\n\t          minute: 0,\n\t          second: 0,\n\t          millisecond: 0\n\t        });\n\t        return s;\n\t      }\n\t    }\n\n\t    return s;\n\t  },\n\t  year: function year(s) {\n\t    walk_1(s, {\n\t      month: 0,\n\t      date: 1,\n\t      hour: 0,\n\t      minute: 0,\n\t      second: 0,\n\t      millisecond: 0\n\t    });\n\t    return s;\n\t  },\n\t  decade: function decade(s) {\n\t    s = s.startOf('year');\n\t    var year = s.year();\n\t    var decade = parseInt(year / 10, 10) * 10;\n\t    s = s.year(decade);\n\t    return s;\n\t  },\n\t  century: function century(s) {\n\t    s = s.startOf('year');\n\t    var year = s.year(); // near 0AD goes '-1 | +1'\n\n\t    var decade = parseInt(year / 100, 10) * 100;\n\t    s = s.year(decade);\n\t    return s;\n\t  }\n\t};\n\tunits$2.date = units$2.day;\n\n\tvar startOf = function startOf(a, unit) {\n\t  var s = a.clone();\n\t  unit = fns.normalize(unit);\n\n\t  if (units$2[unit]) {\n\t    return units$2[unit](s);\n\t  }\n\n\t  if (unit === 'summer' || unit === 'winter') {\n\t    s = s.season(unit);\n\t    return units$2.season(s);\n\t  }\n\n\t  return s;\n\t}; //piggy-backs off startOf\n\n\n\tvar endOf = function endOf(a, unit) {\n\t  var s = a.clone();\n\t  unit = fns.normalize(unit);\n\n\t  if (units$2[unit]) {\n\t    s = units$2[unit](s);\n\t    s = s.add(1, unit);\n\t    s = s.subtract(1, 'milliseconds');\n\t    return s;\n\t  }\n\n\t  return s;\n\t};\n\n\tvar startOf_1 = {\n\t  startOf: startOf,\n\t  endOf: endOf\n\t};\n\n\tvar isDay = function isDay(unit) {\n\t  if (days[\"short\"]().find(function (s) {\n\t    return s === unit;\n\t  })) {\n\t    return true;\n\t  }\n\n\t  if (days[\"long\"]().find(function (s) {\n\t    return s === unit;\n\t  })) {\n\t    return true;\n\t  }\n\n\t  return false;\n\t}; // return a list of the weeks/months/days between a -> b\n\t// returns spacetime objects in the timezone of the input\n\n\n\tvar every = function every(start) {\n\t  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t  var end = arguments.length > 2 ? arguments[2] : undefined;\n\n\t  if (!unit || !end) {\n\t    return [];\n\t  } //cleanup unit param\n\n\n\t  unit = fns.normalize(unit); //cleanup to param\n\n\t  end = start.clone().set(end); //swap them, if they're backwards\n\n\t  if (start.isAfter(end)) {\n\t    var tmp = start;\n\t    start = end;\n\t    end = tmp;\n\t  } //support 'every wednesday'\n\n\n\t  var d = start.clone();\n\n\t  if (isDay(unit)) {\n\t    d = d.next(unit);\n\t    unit = 'week';\n\t  } else {\n\t    d = d.next(unit);\n\t  } //okay, actually start doing it\n\n\n\t  var result = [];\n\n\t  while (d.isBefore(end)) {\n\t    result.push(d);\n\t    d = d.add(1, unit);\n\t  }\n\n\t  return result;\n\t};\n\n\tvar every_1 = every;\n\n\tvar parseDst = function parseDst(dst) {\n\t  if (!dst) {\n\t    return [];\n\t  }\n\n\t  return dst.split('->');\n\t};\n\n\tvar titleCase = function titleCase(str) {\n\t  str = str[0].toUpperCase() + str.substr(1);\n\t  str = str.replace(/\\/gmt/, '/GMT');\n\t  str = str.replace(/[\\/_]([a-z])/gi, function (s) {\n\t    return s.toUpperCase();\n\t  });\n\t  return str;\n\t}; //get metadata about this timezone\n\n\n\tvar timezone = function timezone(s) {\n\t  var zones = s.timezones;\n\t  var tz = s.tz;\n\n\t  if (zones.hasOwnProperty(tz) === false) {\n\t    tz = find(s.tz, zones);\n\t  }\n\n\t  if (tz === null) {\n\t    if (s.silent === false) {\n\t      console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n\t    }\n\n\t    return {\n\t      current: {\n\t        epochShift: 0\n\t      }\n\t    };\n\t  }\n\n\t  var found = zones[tz];\n\t  var result = {\n\t    name: titleCase(tz),\n\t    hasDst: Boolean(found.dst),\n\t    default_offset: found.offset,\n\t    //do north-hemisphere version as default (sorry!)\n\t    hemisphere: found.hem === 's' ? 'South' : 'North',\n\t    current: {}\n\t  };\n\n\t  if (result.hasDst) {\n\t    var arr = parseDst(found.dst);\n\t    result.change = {\n\t      start: arr[0],\n\t      back: arr[1]\n\t    };\n\t  } //find the offsets for summer/winter times\n\t  //(these variable names are north-centric)\n\n\n\t  var summer = found.offset; // (july)\n\n\t  var winter = summer; // (january) assume it's the same for now\n\n\t  if (result.hasDst === true) {\n\t    if (result.hemisphere === 'North') {\n\t      winter = summer - 1;\n\t    } else {\n\t      //southern hemisphere\n\t      winter = found.offset + 1;\n\t    }\n\t  } //find out which offset to use right now\n\t  //use 'summer' time july-time\n\n\n\t  if (result.hasDst === false) {\n\t    result.current.offset = summer;\n\t    result.current.isDST = false;\n\t  } else if (summerTime(s.epoch, result.change.start, result.change.back, summer) === true) {\n\t    result.current.offset = summer;\n\t    result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n\t  } else {\n\t    //use 'winter' january-time\n\t    result.current.offset = winter;\n\t    result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n\t  }\n\n\t  return result;\n\t};\n\n\tvar timezone_1 = timezone;\n\n\tvar units$3 = ['century', 'decade', 'year', 'month', 'date', 'day', 'hour', 'minute', 'second', 'millisecond']; //the spacetime instance methods (also, the API)\n\n\tvar methods = {\n\t  set: function set(input$1, tz) {\n\t    var s = this.clone();\n\t    s = input(s, input$1);\n\n\t    if (tz) {\n\t      this.tz = find(tz);\n\t    }\n\n\t    return s;\n\t  },\n\t  timezone: function timezone() {\n\t    return timezone_1(this);\n\t  },\n\t  isDST: function isDST() {\n\t    return timezone_1(this).current.isDST;\n\t  },\n\t  hasDST: function hasDST() {\n\t    return timezone_1(this).hasDst;\n\t  },\n\t  offset: function offset() {\n\t    return timezone_1(this).current.offset * 60;\n\t  },\n\t  hemisphere: function hemisphere() {\n\t    return timezone_1(this).hemisphere;\n\t  },\n\t  format: function format(fmt) {\n\t    return format_1(this, fmt);\n\t  },\n\t  unixFmt: function unixFmt(fmt) {\n\t    return unixFmt_1(this, fmt);\n\t  },\n\t  startOf: function startOf(unit) {\n\t    return startOf_1.startOf(this, unit);\n\t  },\n\t  endOf: function endOf(unit) {\n\t    return startOf_1.endOf(this, unit);\n\t  },\n\t  leapYear: function leapYear() {\n\t    var year = this.year();\n\t    return fns.isLeapYear(year);\n\t  },\n\t  progress: function progress(unit) {\n\t    return progress_1(this, unit);\n\t  },\n\t  nearest: function nearest(unit) {\n\t    return nearest_1(this, unit);\n\t  },\n\t  diff: function diff(d, unit) {\n\t    return diff$1(this, d, unit);\n\t  },\n\t  since: function since(d) {\n\t    if (!d) {\n\t      d = this.clone().set();\n\t    }\n\n\t    return since_1(this, d);\n\t  },\n\t  next: function next(unit) {\n\t    var s = this.add(1, unit);\n\t    return s.startOf(unit);\n\t  },\n\t  //the start of the previous year/week/century\n\t  last: function last(unit) {\n\t    var s = this.subtract(1, unit);\n\t    return s.startOf(unit);\n\t  },\n\t  isValid: function isValid() {\n\t    //null/undefined epochs\n\t    if (!this.epoch && this.epoch !== 0) {\n\t      return false;\n\t    }\n\n\t    return !isNaN(this.d.getTime());\n\t  },\n\t  //travel to this timezone\n\t  \"goto\": function goto(tz) {\n\t    var s = this.clone();\n\t    s.tz = find(tz, s.timezones); //science!\n\n\t    return s;\n\t  },\n\t  //get each week/month/day between a -> b\n\t  every: function every(unit, to) {\n\t    return every_1(this, unit, to);\n\t  },\n\t  isAwake: function isAwake() {\n\t    var hour = this.hour(); //10pm -> 8am\n\n\t    if (hour < 8 || hour > 22) {\n\t      return false;\n\t    }\n\n\t    return true;\n\t  },\n\t  isAsleep: function isAsleep() {\n\t    return !this.isAwake();\n\t  },\n\t  //pretty-printing\n\t  log: function log() {\n\t    console.log('');\n\t    console.log(format_1(this, 'nice-short'));\n\t    return this;\n\t  },\n\t  logYear: function logYear() {\n\t    console.log('');\n\t    console.log(format_1(this, 'full-short'));\n\t    return this;\n\t  },\n\t  json: function json() {\n\t    var _this = this;\n\n\t    return units$3.reduce(function (h, unit) {\n\t      h[unit] = _this[unit]();\n\t      return h;\n\t    }, {});\n\t  },\n\t  debug: function debug() {\n\t    var tz = this.timezone();\n\t    var date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n\t    date += '\\n     - ' + this.format('time');\n\t    console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n\t    return this;\n\t  },\n\t  //alias of 'since' but opposite - like moment.js\n\t  from: function from(d) {\n\t    d = this.clone().set(d);\n\t    return d.since(this);\n\t  },\n\t  fromNow: function fromNow() {\n\t    var d = this.clone().set(Date.now());\n\t    return d.since(this);\n\t  },\n\t  weekStart: function weekStart(input) {\n\t    //accept a number directly\n\t    if (typeof input === 'number') {\n\t      this._weekStart = input;\n\t      return this;\n\t    }\n\n\t    if (typeof input === 'string') {\n\t      // accept 'wednesday'\n\t      input = input.toLowerCase().trim();\n\t      var num = days[\"short\"]().indexOf(input);\n\n\t      if (num === -1) {\n\t        num = days[\"long\"]().indexOf(input);\n\t      }\n\n\t      if (num === -1) {\n\t        num = 1; //go back to default\n\t      }\n\n\t      this._weekStart = num;\n\t    } else {\n\t      console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n\t    }\n\n\t    return this;\n\t  }\n\t}; // aliases\n\n\tmethods.inDST = methods.isDST;\n\tmethods.round = methods.nearest;\n\tmethods.each = methods.every;\n\tvar methods_1 = methods;\n\n\t//these methods wrap around them.\n\n\tvar validate = function validate(n) {\n\t  //handle number as a string\n\t  if (typeof n === 'string') {\n\t    n = parseInt(n, 10);\n\t  }\n\n\t  return n;\n\t};\n\n\tvar order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond']; //reduce hostile micro-changes when moving dates by millisecond\n\n\tvar confirm = function confirm(s, tmp, unit) {\n\t  var n = order.indexOf(unit);\n\t  var arr = order.slice(n, order.length);\n\n\t  for (var i = 0; i < arr.length; i++) {\n\t    var want = tmp[arr[i]]();\n\t    s[arr[i]](want);\n\t  }\n\n\t  return s;\n\t};\n\n\tvar set = {\n\t  milliseconds: function milliseconds(s, n) {\n\t    n = validate(n);\n\t    var current = s.millisecond();\n\t    var diff = current - n; //milliseconds to shift by\n\n\t    return s.epoch - diff;\n\t  },\n\t  seconds: function seconds(s, n) {\n\t    n = validate(n);\n\t    var diff = s.second() - n;\n\t    var shift = diff * milliseconds.second;\n\t    return s.epoch - shift;\n\t  },\n\t  minutes: function minutes(s, n) {\n\t    n = validate(n);\n\t    var old = s.clone();\n\t    var diff = s.minute() - n;\n\t    var shift = diff * milliseconds.minute;\n\t    s.epoch -= shift;\n\t    confirm(s, old, 'second');\n\t    return s.epoch;\n\t  },\n\t  hours: function hours(s, n) {\n\t    n = validate(n);\n\n\t    if (n >= 24) {\n\t      n = 24;\n\t    } else if (n < 0) {\n\t      n = 0;\n\t    }\n\n\t    var old = s.clone();\n\t    var diff = s.hour() - n;\n\t    var shift = diff * milliseconds.hour;\n\t    s.epoch -= shift;\n\t    walk_1(s, {\n\t      hour: n\n\t    });\n\t    confirm(s, old, 'minute');\n\t    return s.epoch;\n\t  },\n\t  //support setting time by '4:25pm' - this isn't very-well developed..\n\t  time: function time(s, str) {\n\t    var m = str.match(/([0-9]{1,2}):([0-9]{1,2})(am|pm)?/);\n\n\t    if (!m) {\n\t      //fallback to support just '2am'\n\t      m = str.match(/([0-9]{1,2})(am|pm)/);\n\n\t      if (!m) {\n\t        return s.epoch;\n\t      }\n\n\t      m.splice(2, 0, '0'); //add implicit 0 minutes\n\t    }\n\n\t    var h24 = false;\n\t    var hour = parseInt(m[1], 10);\n\t    var minute = parseInt(m[2], 10);\n\n\t    if (hour > 12) {\n\t      h24 = true;\n\t    } //make the hour into proper 24h time\n\n\n\t    if (h24 === false) {\n\t      if (m[3] === 'am' && hour === 12) {\n\t        //12am is midnight\n\t        hour = 0;\n\t      }\n\n\t      if (m[3] === 'pm' && hour < 12) {\n\t        //12pm is noon\n\t        hour += 12;\n\t      }\n\t    }\n\n\t    s = s.hour(hour);\n\t    s = s.minute(minute);\n\t    s = s.second(0);\n\t    s = s.millisecond(0);\n\t    return s.epoch;\n\t  },\n\t  date: function date(s, n) {\n\t    n = validate(n); //avoid setting february 31st\n\n\t    if (n > 28) {\n\t      var max = monthLengths_1[s.month()];\n\n\t      if (n > max) {\n\t        n = max;\n\t      }\n\t    } //avoid setting < 0\n\n\n\t    if (n <= 0) {\n\t      n = 1;\n\t    }\n\n\t    walk_1(s, {\n\t      date: n\n\t    });\n\t    return s.epoch;\n\t  },\n\t  //this one's tricky\n\t  month: function month(s, n) {\n\t    if (typeof n === 'string') {\n\t      n = months.mapping()[n.toLowerCase()];\n\t    }\n\n\t    n = validate(n); //don't go past december\n\n\t    if (n >= 12) {\n\t      n = 11;\n\t    }\n\n\t    if (n <= 0) {\n\t      n = 0;\n\t    }\n\n\t    var date = s.date(); //there's no 30th of february, etc.\n\n\t    if (date > monthLengths_1[n]) {\n\t      //make it as close as we can..\n\t      date = monthLengths_1[n];\n\t    }\n\n\t    walk_1(s, {\n\t      month: n,\n\t      date: date\n\t    });\n\t    return s.epoch;\n\t  },\n\t  year: function year(s, n) {\n\t    n = validate(n);\n\t    walk_1(s, {\n\t      year: n\n\t    });\n\t    return s.epoch;\n\t  },\n\t  dayOfYear: function dayOfYear(s, n) {\n\t    n = validate(n);\n\t    var old = s.clone();\n\t    n -= 1; //days are 1-based\n\n\t    if (n <= 0) {\n\t      n = 0;\n\t    } else if (n >= 365) {\n\t      n = 364;\n\t    }\n\n\t    s = s.startOf('year');\n\t    s = s.add(n, 'day');\n\t    confirm(s, old, 'hour');\n\t    return s.epoch;\n\t  }\n\t};\n\n\tvar methods$1 = {\n\t  millisecond: function millisecond(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.milliseconds(s, num);\n\t      return s;\n\t    }\n\n\t    return this.d.getMilliseconds();\n\t  },\n\t  second: function second(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.seconds(s, num);\n\t      return s;\n\t    }\n\n\t    return this.d.getSeconds();\n\t  },\n\t  minute: function minute(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.minutes(s, num);\n\t      return s;\n\t    }\n\n\t    return this.d.getMinutes();\n\t  },\n\t  hour: function hour(num) {\n\t    var d = this.d;\n\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.hours(s, num);\n\t      return s;\n\t    }\n\n\t    return d.getHours();\n\t  },\n\t  //'3:30' is 3.5\n\t  hourFloat: function hourFloat(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\n\t      var _minute = num % 1;\n\n\t      _minute = _minute * 60;\n\n\t      var _hour = parseInt(num, 10);\n\n\t      s.epoch = set.hours(s, _hour);\n\t      s.epoch = set.minutes(s, _minute);\n\t      return s;\n\t    }\n\n\t    var d = this.d;\n\t    var hour = d.getHours();\n\t    var minute = d.getMinutes();\n\t    minute = minute / 60;\n\t    return hour + minute;\n\t  },\n\t  // hour in 12h format\n\t  hour12: function hour12(str) {\n\t    var d = this.d;\n\n\t    if (str !== undefined) {\n\t      var s = this.clone();\n\t      str = '' + str;\n\t      var m = str.match(/^([0-9]+)(am|pm)$/);\n\n\t      if (m) {\n\t        var hour = parseInt(m[1], 10);\n\n\t        if (m[2] === 'pm') {\n\t          hour += 12;\n\t        }\n\n\t        s.epoch = set.hours(s, hour);\n\t      }\n\n\t      return s;\n\t    } //get the hour\n\n\n\t    var hour12 = d.getHours();\n\n\t    if (hour12 > 12) {\n\t      hour12 = hour12 - 12;\n\t    }\n\n\t    if (hour12 === 0) {\n\t      hour12 = 12;\n\t    }\n\n\t    return hour12;\n\t  },\n\t  //some ambiguity here with 12/24h\n\t  time: function time(str) {\n\t    if (str !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.time(s, str);\n\t      return s;\n\t    }\n\n\t    return \"\".concat(this.h12(), \":\").concat(fns.zeroPad(this.minute())).concat(this.ampm());\n\t  },\n\t  // either 'am' or 'pm'\n\t  ampm: function ampm(input) {\n\t    var which = 'am';\n\t    var hour = this.hour();\n\n\t    if (hour >= 12) {\n\t      which = 'pm';\n\t    }\n\n\t    if (typeof input !== 'string') {\n\t      return which;\n\t    } //okay, we're doing a setter\n\n\n\t    var s = this.clone();\n\t    input = input.toLowerCase().trim(); //ampm should never change the day\n\t    // - so use `.hour(n)` instead of `.minus(12,'hour')`\n\n\t    if (hour >= 12 && input === 'am') {\n\t      //noon is 12pm\n\t      hour -= 12;\n\t      return s.hour(hour);\n\t    }\n\n\t    if (hour < 12 && input === 'pm') {\n\t      hour += 12;\n\t      return s.hour(hour);\n\t    }\n\n\t    return s;\n\t  },\n\t  //some hard-coded times of day, like 'noon'\n\t  dayTime: function dayTime(str) {\n\t    if (str !== undefined) {\n\t      var times = {\n\t        morning: '7:00am',\n\t        breakfast: '7:00am',\n\t        noon: '12:00am',\n\t        lunch: '12:00pm',\n\t        afternoon: '2:00pm',\n\t        evening: '6:00pm',\n\t        dinner: '6:00pm',\n\t        night: '11:00pm',\n\t        midnight: '23:59pm'\n\t      };\n\t      var s = this.clone();\n\t      str = str || '';\n\t      str = str.toLowerCase();\n\n\t      if (times.hasOwnProperty(str) === true) {\n\t        s = s.time(times[str]);\n\t      }\n\n\t      return s;\n\t    }\n\n\t    var h = this.hour();\n\n\t    if (h < 6) {\n\t      return 'night';\n\t    }\n\n\t    if (h < 12) {\n\t      //until noon\n\t      return 'morning';\n\t    }\n\n\t    if (h < 17) {\n\t      //until 5pm\n\t      return 'afternoon';\n\t    }\n\n\t    if (h < 22) {\n\t      //until 10pm\n\t      return 'evening';\n\t    }\n\n\t    return 'night';\n\t  },\n\t  //parse a proper iso string\n\t  iso: function iso(num) {\n\t    if (num !== undefined) {\n\t      return this.set(num);\n\t    }\n\n\t    return this.format('iso');\n\t  }\n\t};\n\tvar _01Time = methods$1;\n\n\tvar methods$2 = {\n\t  // # day in the month\n\t  date: function date(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.date(s, num);\n\t      return s;\n\t    }\n\n\t    return this.d.getDate();\n\t  },\n\t  //like 'wednesday' (hard!)\n\t  day: function day(input) {\n\t    if (input === undefined) {\n\t      return this.d.getDay();\n\t    }\n\n\t    var original = this.clone();\n\t    var want = input; // accept 'wednesday'\n\n\t    if (typeof input === 'string') {\n\t      input = input.toLowerCase();\n\t      want = days[\"short\"]().indexOf(input);\n\n\t      if (want === -1) {\n\t        want = days[\"long\"]().indexOf(input);\n\t      }\n\t    } //move approx\n\n\n\t    var day = this.d.getDay();\n\t    var diff = day - want;\n\t    var s = this.subtract(diff * 24, 'hours'); //tighten it back up\n\n\t    walk_1(s, {\n\t      hour: original.hour(),\n\t      minute: original.minute(),\n\t      second: original.second()\n\t    });\n\t    return s;\n\t  },\n\t  //these are helpful name-wrappers\n\t  dayName: function dayName(input) {\n\t    if (input === undefined) {\n\t      return days[\"long\"]()[this.day()];\n\t    }\n\n\t    var s = this.clone();\n\t    s = s.day(input);\n\t    return s;\n\t  },\n\t  //either name or number\n\t  month: function month(input) {\n\t    if (input !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.month(s, input);\n\t      return s;\n\t    }\n\n\t    return this.d.getMonth();\n\t  }\n\t};\n\tvar _02Date = methods$2;\n\n\tvar clearMinutes = function clearMinutes(s) {\n\t  s = s.minute(0);\n\t  s = s.second(0);\n\t  s = s.millisecond(1);\n\t  return s;\n\t};\n\n\tvar methods$3 = {\n\t  // day 0-366\n\t  dayOfYear: function dayOfYear(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.dayOfYear(s, num);\n\t      return s;\n\t    } //days since newyears - jan 1st is 1, jan 2nd is 2...\n\n\n\t    var sum = 0;\n\t    var month = this.d.getMonth();\n\t    var tmp; //count the num days in each month\n\n\t    for (var i = 1; i <= month; i++) {\n\t      tmp = new Date();\n\t      tmp.setDate(1);\n\t      tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n\n\t      tmp.setHours(1);\n\t      tmp.setMinutes(1);\n\t      tmp.setMonth(i);\n\t      tmp.setHours(-2); //the last day of the month\n\n\t      sum += tmp.getDate();\n\t    }\n\n\t    return sum + this.d.getDate();\n\t  },\n\t  //since the start of the year\n\t  week: function week(num) {\n\t    // week-setter\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s = s.month(0);\n\t      s = s.date(1);\n\t      s = s.day('monday');\n\t      s = clearMinutes(s); //don't go into last-year\n\n\t      if (s.monthName() === 'december') {\n\t        s = s.add(1, 'week');\n\t      }\n\n\t      num -= 1; //1-based\n\n\t      s = s.add(num, 'weeks');\n\t      return s;\n\t    } //find-out which week it is\n\n\n\t    var tmp = this.clone();\n\t    tmp = tmp.month(0);\n\t    tmp = tmp.date(1);\n\t    tmp = clearMinutes(tmp);\n\t    tmp = tmp.day('monday'); //don't go into last-year\n\n\t    if (tmp.monthName() === 'december') {\n\t      tmp = tmp.add(1, 'week');\n\t    } // is first monday the 1st?\n\n\n\t    var toAdd = 1;\n\n\t    if (tmp.date() === 1) {\n\t      toAdd = 0;\n\t    }\n\n\t    tmp = tmp.minus(1, 'second');\n\t    var thisOne = this.epoch; //if the week technically hasn't started yet\n\n\t    if (tmp.epoch > thisOne) {\n\t      return 1;\n\t    } //speed it up, if we can\n\n\n\t    var i = 0;\n\t    var skipWeeks = this.month() * 4;\n\t    tmp.epoch += milliseconds.week * skipWeeks;\n\t    i += skipWeeks;\n\n\t    for (; i < 52; i++) {\n\t      if (tmp.epoch > thisOne) {\n\t        return i + toAdd;\n\t      }\n\n\t      tmp = tmp.add(1, 'week');\n\t    }\n\n\t    return 52;\n\t  },\n\t  //'january'\n\t  monthName: function monthName(input) {\n\t    if (input === undefined) {\n\t      return months[\"long\"]()[this.month()];\n\t    }\n\n\t    var s = this.clone();\n\t    s = s.month(input);\n\t    return s;\n\t  },\n\t  //q1, q2, q3, q4\n\t  quarter: function quarter(num) {\n\t    if (num !== undefined) {\n\t      if (typeof num === 'string') {\n\t        num = num.replace(/^q/i, '');\n\t        num = parseInt(num, 10);\n\t      }\n\n\t      if (quarters[num]) {\n\t        var s = this.clone();\n\t        var _month = quarters[num][0];\n\t        s = s.month(_month);\n\t        s = s.date(1);\n\t        s = s.startOf('day');\n\t        return s;\n\t      }\n\t    }\n\n\t    var month = this.d.getMonth();\n\n\t    for (var i = 1; i < quarters.length; i++) {\n\t      if (month < quarters[i][0]) {\n\t        return i - 1;\n\t      }\n\t    }\n\n\t    return 4;\n\t  },\n\t  //spring, summer, winter, fall\n\t  season: function season(input) {\n\t    var hem = 'north';\n\n\t    if (this.hemisphere() === 'South') {\n\t      hem = 'south';\n\t    }\n\n\t    if (input !== undefined) {\n\t      var s = this.clone();\n\n\t      for (var i = 0; i < seasons[hem].length; i++) {\n\t        if (input === seasons[hem][i][0]) {\n\t          s = s.month(seasons[hem][i][1]);\n\t          s = s.date(1);\n\t          s = s.startOf('day');\n\t        }\n\t      }\n\n\t      return s;\n\t    }\n\n\t    var month = this.d.getMonth();\n\n\t    for (var _i = 0; _i < seasons[hem].length - 1; _i++) {\n\t      if (month >= seasons[hem][_i][1] && month < seasons[hem][_i + 1][1]) {\n\t        return seasons[hem][_i][0];\n\t      }\n\t    }\n\n\t    return 'winter';\n\t  },\n\t  //the year number\n\t  year: function year(num) {\n\t    if (num !== undefined) {\n\t      var s = this.clone();\n\t      s.epoch = set.year(s, num);\n\t      return s;\n\t    }\n\n\t    return this.d.getFullYear();\n\t  },\n\t  //bc/ad years\n\t  era: function era(str) {\n\t    if (str !== undefined) {\n\t      var s = this.clone();\n\t      str = str.toLowerCase(); //TODO: there is no year-0AD i think. may have off-by-1 error here\n\n\t      var year = s.d.getFullYear(); //make '1992' into 1992bc..\n\n\t      if (str === 'bc' && year > 0) {\n\t        s.epoch = set.year(s, year * -1);\n\t      } //make '1992bc' into '1992'\n\n\n\t      if (str === 'ad' && year < 0) {\n\t        s.epoch = set.year(s, year * -1);\n\t      }\n\n\t      return s;\n\t    }\n\n\t    if (this.d.getFullYear() < 0) {\n\t      return 'BC';\n\t    }\n\n\t    return 'AD';\n\t  },\n\t  // 2019 -> 2010\n\t  decade: function decade(input) {\n\t    if (input !== undefined) {\n\t      input = String(input);\n\t      input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n\n\t      input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n\t      if (!input) {\n\t        console.warn('Spacetime: Invalid decade input');\n\t        return this;\n\t      } // assume 20th century?? for '70s'.\n\n\n\t      if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n\t        input = '19' + input;\n\t      }\n\n\t      var year = Number(input);\n\n\t      if (isNaN(year)) {\n\t        return this;\n\t      } // round it down to the decade\n\n\n\t      year = Math.floor(year / 10) * 10;\n\t      return this.year(year); //.startOf('decade')\n\t    }\n\n\t    return this.startOf('decade').year();\n\t  },\n\t  // 1950 -> 19+1\n\t  century: function century(input) {\n\t    if (input !== undefined) {\n\t      if (typeof input === 'string') {\n\t        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n\t        input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, function (a, b, c) {\n\t          if (c.match(/b\\.?c\\.?/i)) {\n\t            b = '-' + b;\n\t          }\n\n\t          return b;\n\t        });\n\t        input = input.replace(/c$/, ''); //20thC\n\t      }\n\n\t      var year = Number(input);\n\n\t      if (isNaN(input)) {\n\t        console.warn('Spacetime: Invalid century input');\n\t        return this;\n\t      } // there is no century 0\n\n\n\t      if (year === 0) {\n\t        year = 1;\n\t      }\n\n\t      if (year >= 0) {\n\t        year = (year - 1) * 100;\n\t      } else {\n\t        year = (year + 1) * 100;\n\t      }\n\n\t      return this.year(year);\n\t    } // century getter\n\n\n\t    var num = this.startOf('century').year();\n\t    num = Math.floor(num / 100);\n\n\t    if (num < 0) {\n\t      return num - 1;\n\t    }\n\n\t    return num + 1;\n\t  },\n\t  // 2019 -> 2+1\n\t  millenium: function millenium(input) {\n\t    if (input !== undefined) {\n\t      if (typeof input === 'string') {\n\t        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n\t        input = Number(input);\n\n\t        if (isNaN(input)) {\n\t          console.warn('Spacetime: Invalid millenium input');\n\t          return this;\n\t        }\n\t      }\n\n\t      if (input > 0) {\n\t        input -= 1;\n\t      }\n\n\t      var year = input * 1000; // there is no year 0\n\n\t      if (year === 0) {\n\t        year = 1;\n\t      }\n\n\t      return this.year(year);\n\t    } // get the current millenium\n\n\n\t    var num = Math.floor(this.year() / 1000);\n\n\t    if (num >= 0) {\n\t      num += 1;\n\t    }\n\n\t    return num;\n\t  }\n\t};\n\tvar _03Year = methods$3;\n\n\tvar methods$4 = Object.assign({}, _01Time, _02Date, _03Year); //aliases\n\n\tmethods$4.milliseconds = methods$4.millisecond;\n\tmethods$4.seconds = methods$4.second;\n\tmethods$4.minutes = methods$4.minute;\n\tmethods$4.hours = methods$4.hour;\n\tmethods$4.hour24 = methods$4.hour;\n\tmethods$4.h12 = methods$4.hour12;\n\tmethods$4.h24 = methods$4.hour24;\n\tmethods$4.days = methods$4.day;\n\n\tvar addMethods = function addMethods(Space) {\n\t  //hook the methods into prototype\n\t  Object.keys(methods$4).forEach(function (k) {\n\t    Space.prototype[k] = methods$4[k];\n\t  });\n\t};\n\n\tvar query = addMethods;\n\n\tvar order$1 = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\n\tvar keep = {\n\t  second: order$1.slice(0, 1),\n\t  minute: order$1.slice(0, 2),\n\t  quarterhour: order$1.slice(0, 2),\n\t  hour: order$1.slice(0, 3),\n\t  date: order$1.slice(0, 4),\n\t  month: order$1.slice(0, 4),\n\t  quarter: order$1.slice(0, 4),\n\t  season: order$1.slice(0, 4),\n\t  year: order$1,\n\t  decade: order$1,\n\t  century: order$1\n\t};\n\tkeep.week = keep.hour;\n\tkeep.season = keep.date;\n\tkeep.quarter = keep.date; // Units need to be dst adjuested\n\n\tvar dstAwareUnits = {\n\t  year: true,\n\t  quarter: true,\n\t  season: true,\n\t  month: true,\n\t  week: true,\n\t  day: true\n\t};\n\tvar keepDate = {\n\t  month: true,\n\t  quarter: true,\n\t  season: true,\n\t  year: true\n\t}; //month is the only thing we 'model/compute'\n\t//- because ms-shifting can be off by enough\n\n\tvar rollMonth = function rollMonth(want, old) {\n\t  //increment year\n\t  if (want.month > 0) {\n\t    var years = parseInt(want.month / 12, 10);\n\t    want.year = old.year() + years;\n\t    want.month = want.month % 12;\n\t  } else if (want.month < 0) {\n\t    //decrement year\n\t    var _years = Math.floor(Math.abs(want.month) / 13, 10);\n\n\t    _years = Math.abs(_years) + 1;\n\t    want.year = old.year() - _years; //ignore extras\n\n\t    want.month = want.month % 12;\n\t    want.month = want.month + 12;\n\n\t    if (want.month === 12) {\n\t      want.month = 0;\n\t    }\n\t  }\n\n\t  return want;\n\t};\n\n\tvar addMethods$1 = function addMethods(SpaceTime) {\n\t  SpaceTime.prototype.add = function (num, unit) {\n\t    var s = this.clone();\n\n\t    if (!unit || num === 0) {\n\t      return s; //don't bother\n\t    }\n\n\t    var old = this.clone();\n\t    unit = fns.normalize(unit); //move forward by the estimated milliseconds (rough)\n\n\t    if (milliseconds[unit]) {\n\t      s.epoch += milliseconds[unit] * num;\n\t    } else if (unit === 'week') {\n\t      s.epoch += milliseconds.day * (num * 7);\n\t    } else if (unit === 'quarter' || unit === 'season') {\n\t      s.epoch += milliseconds.month * (num * 4);\n\t    } else if (unit === 'season') {\n\t      s.epoch += milliseconds.month * (num * 4);\n\t    } else if (unit === 'quarterhour') {\n\t      s.epoch += milliseconds.minute * 15 * num;\n\t    } //now ensure our milliseconds/etc are in-line\n\n\n\t    var want = {};\n\n\t    if (keep[unit]) {\n\t      keep[unit].forEach(function (u) {\n\t        want[u] = old[u]();\n\t      });\n\t    }\n\n\t    if (dstAwareUnits[unit]) {\n\t      var diff = old.timezone().current.offset - s.timezone().current.offset;\n\t      s.epoch += diff * 3600 * 1000;\n\t    } //ensure month/year has ticked-over\n\n\n\t    if (unit === 'month') {\n\t      want.month = old.month() + num; //month is the one unit we 'model' directly\n\n\t      want = rollMonth(want, old);\n\t    } //support coercing a week, too\n\n\n\t    if (unit === 'week') {\n\t      var sum = old.date() + num * 7;\n\n\t      if (sum <= 28 && sum > 1) {\n\t        want.date = sum;\n\t      }\n\t    } //support 25-hour day-changes on dst-changes\n\t    else if (unit === 'date') {\n\t        //specify a naive date number, if it's easy to do...\n\t        var _sum = old.date() + num;\n\n\t        if (_sum <= 28 && _sum > 1) {\n\t          want.date = _sum;\n\t        } //or if we haven't moved at all..\n\t        else if (num !== 0 && old.isSame(s, 'day')) {\n\t            want.date = old.date() + num;\n\t          }\n\t      } //ensure year has changed (leap-years)\n\t      else if (unit === 'year' && s.year() === old.year()) {\n\t          s.epoch += milliseconds.week;\n\t        } //these are easier\n\t        else if (unit === 'decade') {\n\t            want.year = s.year() + 10;\n\t          } else if (unit === 'century') {\n\t            want.year = s.year() + 100;\n\t          } //keep current date, unless the month doesn't have it.\n\n\n\t    if (keepDate[unit]) {\n\t      var max = monthLengths_1[want.month];\n\t      want.date = old.date();\n\n\t      if (want.date > max) {\n\t        want.date = max;\n\t      }\n\t    }\n\n\t    walk_1(s, want);\n\t    return s;\n\t  }; //subtract is only add *-1\n\n\n\t  SpaceTime.prototype.subtract = function (num, unit) {\n\t    var s = this.clone();\n\t    return s.add(num * -1, unit);\n\t  }; //add aliases\n\n\n\t  SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n\t  SpaceTime.prototype.plus = SpaceTime.prototype.add;\n\t};\n\n\tvar add = addMethods$1;\n\n\t//make a string, for easy comparison between dates\n\tvar print = {\n\t  millisecond: function millisecond(s) {\n\t    return s.epoch;\n\t  },\n\t  second: function second(s) {\n\t    return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-');\n\t  },\n\t  minute: function minute(s) {\n\t    return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-');\n\t  },\n\t  hour: function hour(s) {\n\t    return [s.year(), s.month(), s.date(), s.hour()].join('-');\n\t  },\n\t  day: function day(s) {\n\t    return [s.year(), s.month(), s.date()].join('-');\n\t  },\n\t  week: function week(s) {\n\t    return [s.year(), s.week()].join('-');\n\t  },\n\t  month: function month(s) {\n\t    return [s.year(), s.month()].join('-');\n\t  },\n\t  quarter: function quarter(s) {\n\t    return [s.year(), s.quarter()].join('-');\n\t  },\n\t  year: function year(s) {\n\t    return s.year();\n\t  }\n\t};\n\tprint.date = print.day;\n\n\tvar addMethods$2 = function addMethods(SpaceTime) {\n\t  SpaceTime.prototype.isSame = function (b, unit) {\n\t    var a = this;\n\n\t    if (!unit) {\n\t      return null;\n\t    }\n\n\t    if (typeof b === 'string' || typeof b === 'number') {\n\t      b = new SpaceTime(b, this.timezone.name);\n\t    } //support 'seconds' aswell as 'second'\n\n\n\t    unit = unit.replace(/s$/, '');\n\n\t    if (print[unit]) {\n\t      return print[unit](a) === print[unit](b);\n\t    }\n\n\t    return null;\n\t  };\n\t};\n\n\tvar same = addMethods$2;\n\n\tvar addMethods$3 = function addMethods(SpaceTime) {\n\t  var methods = {\n\t    isAfter: function isAfter(d) {\n\t      d = fns.beADate(d, this);\n\t      var epoch = fns.getEpoch(d);\n\n\t      if (epoch === null) {\n\t        return null;\n\t      }\n\n\t      return this.epoch > epoch;\n\t    },\n\t    isBefore: function isBefore(d) {\n\t      d = fns.beADate(d, this);\n\t      var epoch = fns.getEpoch(d);\n\n\t      if (epoch === null) {\n\t        return null;\n\t      }\n\n\t      return this.epoch < epoch;\n\t    },\n\t    isEqual: function isEqual(d) {\n\t      d = fns.beADate(d, this);\n\t      var epoch = fns.getEpoch(d);\n\n\t      if (epoch === null) {\n\t        return null;\n\t      }\n\n\t      return this.epoch === epoch;\n\t    },\n\t    isBetween: function isBetween(start, end) {\n\t      start = fns.beADate(start, this);\n\t      end = fns.beADate(end, this);\n\t      var startEpoch = fns.getEpoch(start);\n\n\t      if (startEpoch === null) {\n\t        return null;\n\t      }\n\n\t      var endEpoch = fns.getEpoch(end);\n\n\t      if (endEpoch === null) {\n\t        return null;\n\t      }\n\n\t      return startEpoch < this.epoch && this.epoch < endEpoch;\n\t    }\n\t  }; //hook them into proto\n\n\t  Object.keys(methods).forEach(function (k) {\n\t    SpaceTime.prototype[k] = methods[k];\n\t  });\n\t};\n\n\tvar compare = addMethods$3;\n\n\tvar addMethods$4 = function addMethods(SpaceTime) {\n\t  var methods = {\n\t    i18n: function i18n(data) {\n\t      //change the day names\n\t      if (fns.isObject(data.days)) {\n\t        days.set(data.days);\n\t      } //change the month names\n\n\n\t      if (fns.isObject(data.months)) {\n\t        months.set(data.months);\n\t      }\n\t    }\n\t  }; //hook them into proto\n\n\t  Object.keys(methods).forEach(function (k) {\n\t    SpaceTime.prototype[k] = methods[k];\n\t  });\n\t};\n\n\tvar i18n = addMethods$4;\n\n\tvar timezones = unpack; //fake timezone-support, for fakers (es5 class)\n\n\tvar SpaceTime = function SpaceTime(input$1, tz) {\n\t  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t  //the holy moment\n\t  this.epoch = null; //the shift for the given timezone\n\n\t  this.tz = find(tz, timezones); //whether to output warnings to console\n\n\t  this.silent = options.silent || true; // favour british interpretation of 02/02/2018, etc\n\n\t  this.british = options.dmy || options.british; //does the week start on sunday, or monday:\n\n\t  this._weekStart = 1; //default to monday\n\n\t  if (options.weekStart !== undefined) {\n\t    this._weekStart = options.weekStart;\n\t  } //add getter/setters\n\n\n\t  Object.defineProperty(this, 'd', {\n\t    //return a js date object\n\t    get: function get() {\n\t      var offset = quick(this); //every computer is somewhere- get this computer's built-in offset\n\n\t      var bias = new Date(this.epoch).getTimezoneOffset() || 0; //movement\n\n\t      var shift = bias + offset * 60; //in minutes\n\n\t      shift = shift * 60 * 1000; //in ms\n\t      //remove this computer's offset\n\n\t      var epoch = this.epoch + shift;\n\t      var d = new Date(epoch);\n\t      return d;\n\t    }\n\t  }); //add this data on the object, to allow adding new timezones\n\n\t  Object.defineProperty(this, 'timezones', {\n\t    get: function get() {\n\t      return timezones;\n\t    },\n\t    set: function set(obj) {\n\t      timezones = obj;\n\t      return obj;\n\t    }\n\t  }); //parse the various formats\n\n\t  if (input$1 !== undefined || input$1 === null) {\n\t    var tmp = input(this, input$1, tz);\n\t    this.epoch = tmp.epoch;\n\t  }\n\t}; //(add instance methods to prototype)\n\n\n\tObject.keys(methods_1).forEach(function (k) {\n\t  SpaceTime.prototype[k] = methods_1[k];\n\t}); // ¯\\_(ツ)_/¯\n\n\tSpaceTime.prototype.clone = function () {\n\t  return new SpaceTime(this.epoch, this.tz, {\n\t    silent: this.silent,\n\t    weekStart: this._weekStart\n\t  });\n\t}; //append more methods\n\n\n\tquery(SpaceTime);\n\tadd(SpaceTime);\n\tsame(SpaceTime);\n\tcompare(SpaceTime);\n\ti18n(SpaceTime);\n\tvar spacetime = SpaceTime;\n\n\tvar whereIts = function whereIts(a, b) {\n\t  var start = new spacetime(null);\n\t  var end = new spacetime(null);\n\t  start = start.time(a); //if b is undefined, use as 'within one hour'\n\n\t  if (b) {\n\t    end = end.time(b);\n\t  } else {\n\t    end = start.add(59, 'minutes');\n\t  }\n\n\t  var startHour = start.hour();\n\t  var endHour = end.hour();\n\t  var tzs = Object.keys(start.timezones).filter(function (tz) {\n\t    if (tz.indexOf('/') === -1) {\n\t      return false;\n\t    }\n\n\t    var m = new spacetime(null, tz);\n\t    var hour = m.hour(); //do 'calendar-compare' not real-time-compare\n\n\t    if (hour >= startHour && hour <= endHour) {\n\t      //test minutes too, if applicable\n\t      if (hour === startHour && m.minute() < start.minute()) {\n\t        return false;\n\t      }\n\n\t      if (hour === endHour && m.minute() > end.minute()) {\n\t        return false;\n\t      }\n\n\t      return true;\n\t    }\n\n\t    return false;\n\t  });\n\t  return tzs;\n\t};\n\n\tvar whereIts_1 = whereIts;\n\n\tvar _version = '6.3.0';\n\n\tvar main$1 = function main(input, tz, options) {\n\t  return new spacetime(input, tz, options);\n\t}; //some helper functions on the main method\n\n\n\tmain$1.now = function (tz, options) {\n\t  return new spacetime(new Date().getTime(), tz, options);\n\t};\n\n\tmain$1.today = function (tz, options) {\n\t  var s = new spacetime(new Date().getTime(), tz, options);\n\t  return s.startOf('day');\n\t};\n\n\tmain$1.tomorrow = function (tz, options) {\n\t  var s = new spacetime(new Date().getTime(), tz, options);\n\t  return s.add(1, 'day').startOf('day');\n\t};\n\n\tmain$1.yesterday = function (tz, options) {\n\t  var s = new spacetime(new Date().getTime(), tz, options);\n\t  return s.subtract(1, 'day').startOf('day');\n\t};\n\n\tmain$1.extend = function (obj) {\n\t  Object.keys(obj).forEach(function (k) {\n\t    spacetime.prototype[k] = obj[k];\n\t  });\n\t  return this;\n\t}; //find tz by time\n\n\n\tmain$1.whereIts = whereIts_1;\n\tmain$1.version = _version; //aliases:\n\n\tmain$1.plugin = main$1.extend;\n\tvar src = main$1;\n\n\treturn src;\n\n}));\n//# sourceMappingURL=spacetime.js.map\n","const spacetime = require('spacetime')\n//\nconst parse = function(str) {\n  if (typeof str === 'number') {\n    return {\n      type: 'number',\n      value: str\n    }\n  }\n  //support pixels\n  if (/[0-9]px$/.test(str)) {\n    return {\n      type: 'pixel',\n      value: Number(str.replace(/px/, ''))\n    }\n  }\n  //support percentages\n  if (/[0-9]%$/.test(str)) {\n    let num = Number(str.replace(/%/, ''))\n    return {\n      type: 'percent',\n      value: num\n    }\n  }\n  //try a straight-up number\n  let num = Number(str)\n  if (!isNaN(num)) {\n    return {\n      type: 'number',\n      value: num\n    }\n  }\n  //try a date\n  let s = spacetime(str)\n  if (s.isValid()) {\n    return {\n      type: 'date',\n      value: s.epoch\n    }\n  }\n  console.warn(\"Counldn't parse: \" + str)\n  return {\n    type: 'unknown',\n    value: null\n  }\n}\n\nconst parseX = function(str, world) {\n  let res = parse(str)\n  if (res.type === 'date') {\n    world.x.format(res.type)\n  }\n  return res\n}\n\nconst parseY = function(str, world) {\n  let res = parse(str)\n  if (res.type === 'date') {\n    world.y.format(res.type)\n  }\n  return res\n}\n\nmodule.exports = {\n  parseX: parseX,\n  parseY: parseY\n}\n","const extent = function(arr) {\n  let min = null\n  let max = null\n  arr.forEach(a => {\n    if (min === null || a < min) {\n      min = a\n    }\n    if (max === null || a > max) {\n      max = a\n    }\n  })\n  return {\n    min: min,\n    max: max\n  }\n}\n\n/* eslint no-bitwise: 0 */\n//may need to change when the term really-transforms? not sure.\nconst uid = str => {\n  let nums = ''\n  for (let i = 0; i < 5; i++) {\n    nums += parseInt(Math.random() * 9, 10)\n  }\n  return str + '-' + nums\n}\n\nmodule.exports = {\n  extent: extent,\n  uid: uid\n}\n","const { parseX, parseY } = require('./parse')\nconst fns = require('./_fns')\n\nconst has = function(x) {\n  return x !== undefined && x !== null\n}\n\nlet methods = {\n  //add new minimums\n  from: function(x, y) {\n    if (has(x) === true) {\n      x = parseX(x, this)\n\n      this.x.min = x\n      this.x.rescale()\n    }\n    if (has(y) === true) {\n      y = parseY(y, this).value\n      this.y.min = y\n      this.y.rescale()\n    }\n    return this\n  },\n\n  //add new maximums\n  to: function(x, y) {\n    if (has(x) === true) {\n      x = parseX(x, this).value\n      this.c.max = x\n      this.c.rescale()\n    }\n    if (has(y) === true) {\n      y = parseX(y, this).value\n      this.y.max = y\n      this.y.rescale()\n    }\n    return this\n  },\n\n  fitX: function(x) {\n    let arr = this.shapes.map(s => s.extent()).filter(n => n !== null)\n    let minX = fns.extent(arr.map(o => o.x.min).filter(n => n !== null)).min || 0\n    let maxX = fns.extent(arr.map(o => o.x.max).filter(n => n !== null)).max || 0\n    //keep graphs from 0, if you can...\n    this.x.min = minX > 0 ? 0 : minX\n    this.x.max = maxX\n    if (this.x.format() === 'date') {\n      this.x.min = minX\n      this.x.max = maxX\n    }\n    this.x.rescale()\n    if (has(x) === true) {\n      x = parseX(x, this).value\n      if (x > this.x.max) {\n        this.x.max = x\n      } else if (x < this.x.min) {\n        this.x.min = x\n      }\n      this.x.rescale()\n    }\n    return this\n  },\n  fitY: function(y) {\n    let arr = this.shapes.map(s => s.extent()).filter(n => n !== null)\n    let minY = fns.extent(arr.map(o => o.y.min).filter(n => n !== null)).min || 0\n    let maxY = fns.extent(arr.map(o => o.y.max).filter(n => n !== null)).max || 0\n    this.y.min = minY > 0 ? 0 : minY\n    this.y.max = maxY\n    if (this.y.format() === 'date') {\n      this.y.min = minY\n      this.y.max = maxY\n    }\n    this.y.rescale()\n    if (has(y) === true) {\n      y = parseY(y, this).value\n      if (y > this.y.max) {\n        this.y.max = y\n      } else if (y < this.y.min) {\n        this.y.min = y\n      }\n      this.y.rescale()\n    }\n    return this\n  },\n\n  fit: function(x, y) {\n    this.fitX(x)\n    this.fitY(y)\n    return this\n  }\n}\nmodule.exports = methods\n","//remove shapes outside of boundaries\nconst clipShapes = function(shapes, xScale, yScale) {\n  shapes = shapes.filter(s => {\n    //ignore\n    if (s.ignore_clip === true) {\n      return true\n    }\n    let { x, y } = s.extent()\n    //clip according to x-axis\n    if (xScale._clip) {\n      //support reversed min/max values\n      let min = xScale.min\n      let max = xScale.max\n      if (min > max) {\n        let tmp = min\n        min = max\n        max = tmp\n      }\n      if (x.min < min) {\n        return false\n      }\n      if (x.max > max) {\n        return false\n      }\n      if (x.min > max || x.max < min) {\n        return false\n      }\n    }\n    if (yScale._clip) {\n      //support reversed min/max values\n      let min = yScale.min\n      let max = yScale.max\n      if (min > max) {\n        let tmp = min\n        min = max\n        max = tmp\n      }\n      if (y.min < min) {\n        return false\n      }\n      if (y.max > max) {\n        return false\n      }\n      if (y.min > max || y.max < min) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return shapes\n}\nmodule.exports = clipShapes\n","//a very-tiny version of d3-scale's scaleLinear\nconst scaleLinear = function(obj) {\n  let world = obj.world || []\n  let minmax = obj.minmax || []\n  const calc = num => {\n    let range = minmax[1] - minmax[0]\n    let percent = (num - minmax[0]) / range\n    let size = world[1] - world[0]\n    return parseInt(size * percent, 10)\n  }\n  // invert the calculation. return a %?\n  calc.backward = num => {\n    let size = world[1] - world[0]\n    let range = minmax[1] - minmax[0]\n    let percent = (num - world[0]) / size\n    return parseInt(percent * range, 10)\n  }\n  return calc\n}\nmodule.exports = scaleLinear\n\n// let scale = scaleLinear({\n//   world: [0, 300],\n//   minmax: [0, 100]\n// })\n// console.log(scale(50))\n// console.log(scale.backward(150))\n","// const scaleLinear = require('d3-scale').scaleLinear\nconst scaleLinear = require('./_linear')\nconst { parseX } = require('../parse')\n\nconst has = function(x) {\n  return x !== undefined && x !== null\n}\n\nclass Scale {\n  constructor(data, world) {\n    this.world = world\n    this.min = 0\n    this.max = 1\n\n    this.from = 0\n    this.to = world.width\n\n    this._format = 'number'\n    this.parse = parseX\n    this.is_y = false\n    this._clip = false\n    this.rescale()\n  }\n  rescale() {\n    this.scale = scaleLinear({\n      world: [this.from, this.to],\n      minmax: [this.min, this.max]\n    })\n    return this\n  }\n  fit(a, b) {\n    if (has(a) === false && has(b) === false) {\n      if (this.is_y) {\n        this.world.fitY()\n      } else {\n        this.world.fitX()\n      }\n      this.rescale()\n      return this\n    }\n    if (has(a) === true) {\n      let num = this.parse(a, this.world).value\n      this.min = num\n    }\n    if (has(b) === true) {\n      let num = this.parse(b, this.world).value\n      this.max = num\n    }\n    this.rescale()\n    return this\n  }\n  place(obj) {\n    //from=top\n    //to=bottom\n    if (obj.type === 'pixel') {\n      if (this.is_y) {\n        return this.to - obj.value //flip grid\n      }\n      return obj.value\n    }\n    if (obj.type === 'percent') {\n      let num = this.byPercent(obj.value)\n      let val = this.scale.backward(num)\n      if (this.is_y) {\n        return this.to - val\n      }\n      return val\n    }\n    return this.scale(obj.value)\n  }\n  byPercent(num = 0) {\n    num = num / 100\n    let diff = this.max - this.min\n    return diff * num + this.min\n  }\n  format(format) {\n    if (format === undefined) {\n      return this._format\n    }\n    this._format = format\n    return this\n  }\n  clip(bool) {\n    if (bool === undefined) {\n      bool = true\n    }\n    this._clip = bool\n  }\n  reverse() {\n    let tmp = this.min\n    this.min = this.max\n    this.max = tmp\n    this.rescale()\n    return tmp\n  }\n}\n\nmodule.exports = Scale\n","const Scale = require('./Scale')\nconst scaleLinear = require('./_linear')\n// const scaleLinear = require('d3-scale').scaleLinear\nconst { parseY } = require('../parse')\n\nclass YScale extends Scale {\n  constructor(data, world) {\n    super(data, world)\n    //use height instead of width\n    this.to = world.height\n    this.is_y = true\n    this.parse = parseY\n    this.rescale()\n  }\n  rescale() {\n    this.scale = scaleLinear({\n      world: [this.from, this.to],\n      minmax: [this.max, this.min]\n    })\n  }\n}\nmodule.exports = YScale\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).spencerColor=e()}}(function(){return function u(i,a,c){function f(r,e){if(!a[r]){if(!i[r]){var o=\"function\"==typeof require&&require;if(!e&&o)return o(r,!0);if(d)return d(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var t=a[r]={exports:{}};i[r][0].call(t.exports,function(e){return f(i[r][1][e]||e)},t,t.exports,u,i,a,c)}return a[r].exports}for(var d=\"function\"==typeof require&&require,e=0;e<c.length;e++)f(c[e]);return f}({1:[function(e,r,o){\"use strict\";r.exports={blue:\"#6699cc\",green:\"#6accb2\",yellow:\"#e1e6b3\",red:\"#cc7066\",pink:\"#F2C0BB\",brown:\"#705E5C\",orange:\"#cc8a66\",purple:\"#d8b3e6\",navy:\"#335799\",olive:\"#7f9c6c\",fuscia:\"#735873\",beige:\"#e6d7b3\",slate:\"#8C8C88\",suede:\"#9c896c\",burnt:\"#603a39\",sea:\"#50617A\",sky:\"#2D85A8\",night:\"#303b50\",rouge:\"#914045\",grey:\"#838B91\",mud:\"#C4ABAB\",royal:\"#275291\",cherry:\"#cc6966\",tulip:\"#e6b3bc\",rose:\"#D68881\",fire:\"#AB5850\",greyblue:\"#72697D\",greygreen:\"#8BA3A2\",greypurple:\"#978BA3\",burn:\"#6D5685\",slategrey:\"#bfb0b3\",light:\"#a3a5a5\",lighter:\"#d7d5d2\",fudge:\"#4d4d4d\",lightgrey:\"#949a9e\",white:\"#fbfbfb\",dimgrey:\"#606c74\",softblack:\"#463D4F\",dark:\"#443d3d\",black:\"#333333\"}},{}],2:[function(e,r,o){\"use strict\";var n=e(\"./colors\"),t={juno:[\"blue\",\"mud\",\"navy\",\"slate\",\"pink\",\"burn\"],barrow:[\"rouge\",\"red\",\"orange\",\"burnt\",\"brown\",\"greygreen\"],roma:[\"#8a849a\",\"#b5b0bf\",\"rose\",\"lighter\",\"greygreen\",\"mud\"],palmer:[\"red\",\"navy\",\"olive\",\"pink\",\"suede\",\"sky\"],mark:[\"#848f9a\",\"#9aa4ac\",\"slate\",\"#b0b8bf\",\"mud\",\"grey\"],salmon:[\"sky\",\"sea\",\"fuscia\",\"slate\",\"mud\",\"fudge\"],dupont:[\"green\",\"brown\",\"orange\",\"red\",\"olive\",\"blue\"],bloor:[\"night\",\"navy\",\"beige\",\"rouge\",\"mud\",\"grey\"],yukon:[\"mud\",\"slate\",\"brown\",\"sky\",\"beige\",\"red\"],david:[\"blue\",\"green\",\"yellow\",\"red\",\"pink\",\"light\"],neste:[\"mud\",\"cherry\",\"royal\",\"rouge\",\"greygreen\",\"greypurple\"],ken:[\"red\",\"sky\",\"#c67a53\",\"greygreen\",\"#dfb59f\",\"mud\"]};Object.keys(t).forEach(function(e){t[e]=t[e].map(function(e){return n[e]||e})}),r.exports=t},{\"./colors\":1}],3:[function(e,r,o){\"use strict\";var n=e(\"./colors\"),t=e(\"./combos\"),u={colors:n,list:Object.keys(n).map(function(e){return n[e]}),combos:t};r.exports=u},{\"./colors\":1,\"./combos\":2}]},{},[3])(3)});\n","const reduceTo = function(arr, n) {\n  if (arr.length <= n || arr.length <= 5) {\n    return arr\n  }\n  while (arr.length > n) {\n    //remove every other one\n    arr = arr.filter((o, i) => {\n      return i % 2 === 0\n    })\n    if (arr.length <= n || arr.length <= 5) {\n      return arr\n    }\n  }\n  return arr\n}\nmodule.exports = reduceTo\n","const reduceTo = require('./_reduce')\n\n//increment by this unit\nconst allTicks = function(start, end, unit) {\n  let ticks = []\n  start = start.add(1, unit)\n  start = start.startOf(unit)\n  while (start.isBefore(end)) {\n    ticks.push(start)\n    start = start.add(1, unit)\n  }\n  return ticks\n}\n\nconst formatTicks = function(arr, fmt, start, end) {\n  let delta = end.epoch - start.epoch\n  return arr.map(s => {\n    let percent = (s.epoch - start.epoch) / delta\n    return {\n      label: s.format(fmt),\n      epoch: s.epoch,\n      value: parseInt(percent * 1000, 10) / 1000\n    }\n  })\n}\n\nconst methods = {\n  centuries: (start, end, n) => {\n    let ticks = allTicks(start, end, 'century')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{year}'\n    if (start.diff(end, 'year') > 6) {\n      fmt = '{year}'\n    }\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  },\n  decades: (start, end, n) => {\n    let ticks = allTicks(start, end, 'decade')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{year}'\n    if (start.diff(end, 'year') > 6) {\n      fmt = '{year}'\n    }\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  },\n  years: (start, end, n) => {\n    let ticks = allTicks(start, end, 'year')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{month-short} {year-short}'\n    if (start.diff(end, 'year') > 6) {\n      fmt = '{year}'\n    }\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  },\n  months: (start, end, n) => {\n    let ticks = allTicks(start, end, 'month')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{month-short} {date}'\n    if (start.isSame(end, 'year') === false) {\n      fmt = '{month-short} {year}'\n    }\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  },\n  days: (start, end, n) => {\n    let ticks = allTicks(start, end, 'day')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{month-short} {date}'\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  },\n  hours: (start, end, n) => {\n    let ticks = allTicks(start, end, 'hour')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{time}'\n    if (start.isSame(end, 'day') === false) {\n      fmt = '{day-short} {hour}{ampm}'\n    }\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  },\n  minutes: (start, end, n) => {\n    let ticks = allTicks(start, end, 'minute')\n    ticks = reduceTo(ticks, n)\n    let fmt = '{time}'\n    ticks = formatTicks(ticks, fmt, start, end)\n    return ticks\n  }\n}\nmodule.exports = methods\n","module.exports = '0.2.1'","const spacetime = require('spacetime')\nconst methods = require('./methods')\nconst version = require('../_version')\n\nconst chooseMethod = function(start, end, n = 6) {\n  let diff = start.diff(end)\n  if (diff.years > 300) {\n    return methods.centuries(start, end, n)\n  }\n  if (diff.years > 30) {\n    return methods.decades(start, end, n)\n  }\n  if (diff.years > 3) {\n    return methods.years(start, end, n)\n  }\n  if (diff.months > 3) {\n    return methods.months(start, end, n)\n  }\n  if (diff.days > 3) {\n    return methods.days(start, end, n)\n  }\n  if (diff.hours > 3) {\n    return methods.hours(start, end, n)\n  }\n  if (diff.minutes > 3) {\n    return methods.minutes(start, end, n)\n  }\n  return methods.months(start, end, n)\n}\n\n//flip it around backwards\nconst reverseTicks = function(ticks) {\n  ticks = ticks.map(o => {\n    o.value = 1 - o.value\n    return o\n  })\n  return ticks.reverse()\n}\n\nconst spacetimeTicks = function(start, end, n = 6) {\n  let reverse = false\n  start = spacetime(start)\n  end = spacetime(end)\n  //reverse them, if necessary\n  if (start.epoch > end.epoch) {\n    reverse = true\n    let tmp = start.epoch\n    start.epoch = end.epoch\n    end.epoch = tmp\n  }\n  // nudge first one back 1 minute\n  if (start.time() === '12:00am') {\n    start = start.minus(1, 'minute')\n  }\n  let ticks = chooseMethod(start, end, n)\n  //support backwards ticks\n  if (reverse === true) {\n    ticks = reverseTicks(ticks)\n  }\n  return ticks\n}\nspacetimeTicks.version = version\n\nmodule.exports = spacetimeTicks\n","/* somehow v0.0.3\n   github.com/spencermountain/somehow-ticks\n   MIT\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.somehowTicks = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  trillion: 1000000000000,\n  billion: 1000000000,\n  million: 1000000,\n  hundredThousand: 100000,\n  tenThousand: 10000,\n  thousand: 1000,\n  hundred: 100,\n  ten: 10,\n  one: 1,\n  tenth: 0.1,\n  hundredth: 0.01,\n  thousandth: 0.01\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar n = _dereq_('./_constants');\n\nvar prettyNum = function prettyNum(num) {\n  num = parseFloat(num);\n\n  if (num >= n.trillion) {\n    num = parseInt(num / 100000000000, 10) * 100000000000;\n    return num / n.trillion + 't';\n  }\n\n  if (num >= n.billion) {\n    num = parseInt(num / 100000000, 10) * 100000000;\n    return num / n.billion + 'b';\n  }\n\n  if (num >= n.million) {\n    num = parseInt(num / 100000, 10) * 100000;\n    return num / n.million + 'm';\n  }\n\n  if (num >= n.tenThousand) {\n    num = parseInt(num / n.thousand, 10) * n.thousand;\n    return num / n.thousand + 'k';\n  }\n\n  if (num >= n.thousand) {\n    num = parseInt(num / n.hundred, 10) * n.hundred;\n    return num / n.thousand + 'k';\n  }\n\n  return num.toLocaleString();\n};\n\nmodule.exports = prettyNum;\n\n},{\"./_constants\":1}],3:[function(_dereq_,module,exports){\n\"use strict\";\n\n// const zeroPad = (str, len = 2) => {\n//   let pad = '0'\n//   str = str + ''\n//   return str.length >= len\n//     ? str\n//     : new Array(len - str.length + 1).join(pad) + str\n// }\n//\n// const preferZeros = function(arr, ticks) {\n//   const max = String(arr[arr.length - 1] || '').length\n//   const zeroArr = arr.map(a => {\n//     let str = zeroPad(String(a), max)\n//     const zeros = (str.match(/0/g) || []).length\n//     return [a, zeros]\n//   })\n//   let ranked = zeroArr.sort((a, b) => (a[1] < b[1] ? 1 : -1))\n//   console.log(ranked)\n//   return ranked\n//     .map(a => a[0])\n//     .slice(0, ticks)\n//     .sort()\n// }\nvar reduceTo = function reduceTo(arr, n) {\n  if (arr.length <= n || arr.length <= 5) {\n    return arr;\n  } //try filtering-down by # of non-zero digits used\n  // let tmp = preferZeros(arr, n)\n  // if (tmp.length > 0 && tmp.length <= n) {\n  //   return tmp\n  // }\n  //otherwise, remove every other selection (less good)\n\n\n  while (arr.length > n) {\n    arr = arr.filter(function (o, i) {\n      return i % 2 === 0;\n    });\n\n    if (arr.length <= n || arr.length <= 5) {\n      return arr;\n    }\n  }\n\n  return arr;\n};\n\nmodule.exports = reduceTo;\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar methods = _dereq_('./methods');\n\nvar chooseMethod = function chooseMethod(start, end) {\n  var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 6;\n  var diff = Math.abs(end - start);\n\n  if (diff === 0) {\n    return [];\n  } //1 million\n\n\n  if (diff > 3000000) {\n    return methods.millions(start, end, n);\n  } //100k\n\n\n  if (diff > 300000) {\n    return methods.hundredKs(start, end, n);\n  } //1k\n\n\n  if (diff > 3000) {\n    return methods.thousands(start, end, n);\n  } //100\n\n\n  if (diff > 300) {\n    return methods.hundreds(start, end, n);\n  } //10\n\n\n  if (diff > 30) {\n    return methods.tens(start, end, n);\n  } //1\n\n\n  if (diff > 3) {\n    return methods.ones(start, end, n);\n  } //.1\n\n\n  if (diff > 0.3) {\n    return methods.tenths(start, end, n);\n  } //.01\n\n\n  return methods.hundredths(start, end, n);\n}; //flip it around backwards\n\n\nvar reverseTicks = function reverseTicks(ticks) {\n  ticks = ticks.map(function (o) {\n    o.value = 1 - o.value;\n    return o;\n  });\n  return ticks.reverse();\n}; //\n\n\nvar somehowTicks = function somehowTicks(start, end, n) {\n  var reverse = false;\n  start = Number(start);\n  end = Number(end); //reverse them, if necessary\n\n  if (start > end) {\n    reverse = true;\n    var tmp = start;\n    start = end;\n    end = tmp;\n  }\n\n  var ticks = chooseMethod(start, end, n); //support backwards ticks\n\n  if (reverse === true) {\n    ticks = reverseTicks(ticks);\n  }\n\n  return ticks;\n};\n\nmodule.exports = somehowTicks;\n\n},{\"./methods\":5}],5:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar reduceTo = _dereq_('./_reduce');\n\nvar prettyNum = _dereq_('./_prettyNum');\n\nvar c = _dereq_('./_constants');\n\nvar roundDown = function roundDown(n, unit) {\n  return Math.floor(n / unit) * unit;\n}; //increment by this unit\n\n\nvar allTicks = function allTicks(start, end, unit) {\n  var inc = unit / 2; //increment by .5\n\n  var ticks = [];\n  start = start += unit;\n  start = roundDown(start, unit);\n\n  while (start < end) {\n    ticks.push(start);\n    start = start += inc;\n  }\n\n  return ticks;\n};\n\nvar formatTicks = function formatTicks(arr, fmt, start, end) {\n  var delta = end - start;\n  return arr.map(function (s) {\n    var percent = (s - start) / delta;\n    return {\n      label: prettyNum(s),\n      number: s,\n      value: parseInt(percent * 1000, 10) / 1000\n    };\n  });\n};\n\nvar methods = {\n  millions: function millions(start, end, n) {\n    var ticks = allTicks(start, end, c.million);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, 'm', start, end);\n    return ticks;\n  },\n  hundredKs: function hundredKs(start, end, n) {\n    var ticks = allTicks(start, end, c.hundredThousand);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, 'k', start, end);\n    return ticks;\n  },\n  thousands: function thousands(start, end, n) {\n    var ticks = allTicks(start, end, c.thousand);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, 'm', start, end);\n    return ticks;\n  },\n  hundreds: function hundreds(start, end, n) {\n    var ticks = allTicks(start, end, c.hundred);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, 'm', start, end);\n    return ticks;\n  },\n  tens: function tens(start, end, n) {\n    var ticks = allTicks(start, end, c.ten);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, '', start, end);\n    return ticks;\n  },\n  ones: function ones(start, end, n) {\n    var ticks = allTicks(start, end, c.one);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, '', start, end);\n    return ticks;\n  },\n  tenths: function tenths(start, end, n) {\n    var ticks = allTicks(start, end, c.tenth);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, '', start, end);\n    return ticks;\n  },\n  hundredths: function hundredths(start, end, n) {\n    var ticks = allTicks(start, end, c.hundredth);\n    ticks = reduceTo(ticks, n);\n    ticks = formatTicks(ticks, '', start, end);\n    return ticks;\n  }\n};\nmodule.exports = methods;\n\n},{\"./_constants\":1,\"./_prettyNum\":2,\"./_reduce\":3}]},{},[4])(4)\n});\n","const spacetimeTicks = require('spacetime-ticks')\nconst somehowTicks = require('somehow-ticks')\n\nconst generic = function(axis, n = 5) {\n  let scale = axis.scale\n  let start = scale.min || 0\n  let end = scale.max || 0\n  let ticks = somehowTicks(start, end, n)\n  if (axis._suffix) {\n    ticks.forEach(tick => (tick.label += axis._suffix))\n  }\n  if (axis._prefix) {\n    ticks.forEach(tick => (tick.label = axis._prefix + tick.label))\n  }\n  return ticks\n}\n\nconst date = function(axis, n = 5) {\n  let scale = axis.scale\n  let start = scale.min || 0\n  let end = scale.max || 0\n  let ticks = spacetimeTicks(start, end, n)\n  return ticks\n}\nmodule.exports = {\n  generic: generic,\n  date: date\n}\n","const bil = 1000000000\nconst mil = 1000000\nconst tenThou = 10000\nconst thou = 1000\n\nconst prettyNum = function(num) {\n  num = parseFloat(num)\n  if (num >= bil) {\n    num = parseInt(num / 100000000, 10) * 100000000\n    return num / mil + 'b'\n  }\n  if (num >= mil) {\n    num = parseInt(num / 100000, 10) * 100000\n    return num / mil + 'm'\n  }\n  if (num >= tenThou) {\n    num = parseInt(num / thou, 10) * thou\n    return num / thou + 'k'\n  }\n  if (num >= thou) {\n    num = parseInt(num / 100, 10) * 100\n    return num / thou + 'k'\n  }\n  return num.toLocaleString()\n}\nmodule.exports = prettyNum\n","const spacetime = require('spacetime')\nconst prettyNum = require('./_prettyNum')\n\nconst drawTick = function(s, axis) {\n  let scale = axis.scale.scale\n  let label = null\n  //support {label, value} format\n  if (typeof s === 'object' && s !== null) {\n    label = s.label\n    s = s.value\n  }\n  //support 'june 5th'\n  if (typeof s === 'string') {\n    s = spacetime(s)\n    return {\n      num: s.epoch, //val\n      pos: parseInt(scale(s.epoch), 10), //x/y\n      label: label || s.format(axis._fmt || '{month} {year}') //text\n    }\n  }\n  //support '52'\n  let num = Number(s)\n  return {\n    value: num / 100,\n    pos: parseInt(scale(num), 10),\n    label: label || prettyNum(num)\n  }\n}\nmodule.exports = drawTick\n","const colors = require('spencer-color')\nconst ticks = require('./_ticks')\nconst drawTick = require('./_custom')\n\nconst defaults = {\n  stroke: '#d7d5d2',\n  'stroke-width': 1,\n  'vector-effect': 'non-scaling-stroke'\n}\n\nclass Axis {\n  constructor(obj = {}, world) {\n    this.world = world\n    this.attrs = Object.assign({}, defaults, obj)\n    this.scale = null\n    this._tickCount = 6\n    this._fmt = undefined\n    this._given = undefined\n    this._show = true\n    this._label = ''\n    this._suffix = ''\n    this._prefix = ''\n  }\n  color(color) {\n    this.attrs.stroke = colors[color] || color\n    return this\n  }\n  label(str) {\n    this._label = str\n    return this\n  }\n  suffix(str) {\n    this._suffix = str\n    return this\n  }\n  prefix(str) {\n    this._prefix = str\n    return this\n  }\n  remove() {\n    this._show = false\n    return this\n  }\n  format(str) {\n    this._fmt = str\n    return this\n  }\n  show() {\n    this._show = true\n    return this\n  }\n  ticks(n) {\n    if (typeof n === 'number') {\n      this._tickCount = n\n    } else if (typeof n === 'object') {\n      this._given = n\n    }\n    if (this._given) {\n      return this._given.map(o => drawTick(o, this))\n    }\n    if (this.scale.format() === 'date') {\n      return ticks.date(this, this._tickCount)\n    }\n    return ticks.generic(this, this._tickCount)\n  }\n}\nmodule.exports = Axis\n","const Axis = require('./Axis')\n\nclass XAxis extends Axis {\n  constructor(obj = {}, world) {\n    super(obj, world)\n    this.scale = world.x\n  }\n  drawTicks(y) {\n    let h = this.world.html\n    return this.ticks().map(o => {\n      return h`<text x=\"${o.value * 100 + '%'}\" y=\"${y + 3}\" fill=\"${\n        this.attrs.stroke\n      }\" text-anchor=\"middle\" class=\"somehow-legible\">\n        ${o.label}\n      </text>`\n    })\n  }\n  build() {\n    let h = this.world.html\n    if (this._show === false) {\n      return ''\n    }\n    let attrs = this.attrs\n    let width = this.world.width\n    let y = this.world.height\n    let ticks = this.drawTicks(y)\n    let textAttrs = {\n      x: '50%',\n      y: '115%',\n      fill: this.attrs.stroke,\n      'font-size': '2px',\n      style: 'text-anchor:middle;'\n    }\n    return h`<g>\n      ${ticks}\n      <line x1=\"${0}\" y1=\"${y}\" x2=\"${width}\" y2=\"${y}\" ...${attrs} stroke=\"#d7d5d2\" />\n      <text ...${textAttrs}>\n        ${this._label}\n      </text>\n    </g>`\n  }\n}\nmodule.exports = XAxis\n","const Axis = require('./Axis')\n\nclass YAxis extends Axis {\n  constructor(obj = {}, world) {\n    super(obj, world)\n    this.scale = world.y\n  }\n  drawTicks(x) {\n    let h = this.world.html\n    return this.ticks().map(o => {\n      let percent = o.value * 100\n      percent = 100 - percent\n      return h`<text x=\"${x}\" y=\"${percent + '%'}\" dy=\"0\" dx=\"-2px\" fill=\"${\n        this.attrs.stroke\n      }\" text-anchor=\"end\" class=\"somehow-legible\">\n        ${o.label}\n      </text>`\n    })\n  }\n  build() {\n    let h = this.world.html\n    if (this._show === false) {\n      return ''\n    }\n    let attrs = this.attrs\n    let height = this.world.height\n    let x = 0\n    let ticks = this.drawTicks(x)\n    let textAttrs = {\n      x: '-5%',\n      y: '50%',\n      'font-size': '2px',\n      fill: this.attrs.stroke,\n      style: 'text-anchor:end;'\n    }\n    return h`<g>\n      ${ticks}\n      <line x1=\"${x}\" y1=\"${0}\" x2=\"${x}\" y2=\"${height}\" ...${attrs}/>\n      <text ...${textAttrs}>\n        ${this._label}\n      </text>\n    </g>`\n  }\n}\nmodule.exports = YAxis\n","// https://d3js.org/d3-path/ v1.0.9 Copyright 2019 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(global = global || self, factory(global.d3 = global.d3 || {}));\n}(this, function (exports) { 'use strict';\n\nvar pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexports.path = path;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","// https://d3js.org/d3-shape/ v1.3.7 Copyright 2019 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-path')) :\ntypeof define === 'function' && define.amd ? define(['exports', 'd3-path'], factory) :\n(global = global || self, factory(global.d3 = global.d3 || {}, global.d3));\n}(this, function (exports, d3Path) { 'use strict';\n\nfunction constant(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar abs = Math.abs;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\nvar max = Math.max;\nvar min = Math.min;\nvar sin = Math.sin;\nvar sqrt = Math.sqrt;\n\nvar epsilon = 1e-12;\nvar pi = Math.PI;\nvar halfPi = pi / 2;\nvar tau = 2 * pi;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nfunction arc() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = d3Path.path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x(p) {\n  return p[0];\n}\n\nfunction y(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x$1 = x,\n      y$1 = y,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = d3Path.path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x$1(d, i, data), +y$1(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), line) : x$1;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), line) : y$1;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x,\n      x1 = null,\n      y0 = constant(0),\n      y1 = y,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = d3Path.path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction descending(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\nfunction identity(d) {\n  return d;\n}\n\nfunction pie() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n\nvar curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nfunction curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n\nfunction lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nfunction lineRadial$1() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n\nfunction areaRadial() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n\nfunction pointRadial(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n\nvar slice = Array.prototype.slice;\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x$1 = x,\n      y$1 = y,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = d3Path.path();\n    curve(context, +x$1.apply(this, (argv[0] = s, argv)), +y$1.apply(this, argv), +x$1.apply(this, (argv[0] = t, argv)), +y$1.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), link) : x$1;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), link) : y$1;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial$1(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nfunction linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nfunction linkVertical() {\n  return link(curveVertical);\n}\n\nfunction linkRadial() {\n  var l = link(curveRadial$1);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n\nvar circle = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n\nvar cross = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n\nvar tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nvar diamond = {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nvar star = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n\nvar square = {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n\nvar sqrt3 = Math.sqrt(3);\n\nvar triangle = {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n\nvar c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nvar wye = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n\nvar symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nfunction symbol() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = d3Path.path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n\nfunction noop() {}\n\nfunction point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nvar bundle = (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point$1(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point$3(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point$3(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point$3(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nfunction none(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n\nfunction none$1(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stack() {\n  var keys = constant([]),\n      order = none$1,\n      offset = none,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? none$1 : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? none : _, stack) : offset;\n  };\n\n  return stack;\n}\n\nfunction expand(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n\nfunction diverging(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n\nfunction silhouette(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n\nfunction wiggle(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n\nfunction appearance(series) {\n  var peaks = series.map(peak);\n  return none$1(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n\nfunction ascending(series) {\n  var sums = series.map(sum);\n  return none$1(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nfunction sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n\nfunction descending$1(series) {\n  return ascending(series).reverse();\n}\n\nfunction insideOut(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n\nfunction reverse(series) {\n  return none$1(series).reverse();\n}\n\nexports.arc = arc;\nexports.area = area;\nexports.areaRadial = areaRadial;\nexports.curveBasis = basis;\nexports.curveBasisClosed = basisClosed;\nexports.curveBasisOpen = basisOpen;\nexports.curveBundle = bundle;\nexports.curveCardinal = cardinal;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveLinear = curveLinear;\nexports.curveLinearClosed = linearClosed;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.line = line;\nexports.lineRadial = lineRadial$1;\nexports.linkHorizontal = linkHorizontal;\nexports.linkRadial = linkRadial;\nexports.linkVertical = linkVertical;\nexports.pie = pie;\nexports.pointRadial = pointRadial;\nexports.radialArea = areaRadial;\nexports.radialLine = lineRadial$1;\nexports.stack = stack;\nexports.stackOffsetDiverging = diverging;\nexports.stackOffsetExpand = expand;\nexports.stackOffsetNone = none;\nexports.stackOffsetSilhouette = silhouette;\nexports.stackOffsetWiggle = wiggle;\nexports.stackOrderAppearance = appearance;\nexports.stackOrderAscending = ascending;\nexports.stackOrderDescending = descending$1;\nexports.stackOrderInsideOut = insideOut;\nexports.stackOrderNone = none$1;\nexports.stackOrderReverse = reverse;\nexports.symbol = symbol;\nexports.symbolCircle = circle;\nexports.symbolCross = cross;\nexports.symbolDiamond = diamond;\nexports.symbolSquare = square;\nexports.symbolStar = star;\nexports.symbolTriangle = triangle;\nexports.symbolWye = wye;\nexports.symbols = symbols;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","const { parseX, parseY } = require('../../parse')\n\n//a very-flexible input language\nconst parseStr = function(str = '', world) {\n  let lines = str.split(/\\n/g)\n  lines = lines.filter(l => l)\n  lines = lines.map(line => {\n    let split = line.split(/(,|\\t) ?/).map(s => s.trim())\n    let x = parseX(split[0], world)\n    let y = parseY(split[2], world)\n    let obj = {\n      x: x,\n      y: y\n    }\n    //y2 is bottom of an area\n    if (split[4] !== undefined) {\n      obj.y2 = parseY(split[4], world)\n    }\n    return obj\n  })\n  return lines\n}\n\nconst parseInput = function(set, world) {\n  if (typeof set === 'string') {\n    return parseStr(set, world)\n  }\n  return set.map(a => {\n    let x = parseX(a[0], world)\n    let y = parseY(a[1], world)\n    let obj = {\n      x: x,\n      y: y\n    }\n    //y2 is bottom of an area\n    if (a[2] !== undefined) {\n      obj.y2 = parseY(a[2], world)\n    }\n    return obj\n  })\n}\n\nmodule.exports = parseInput\n","const d3Shape = require('d3-shape')\nconst colors = require('spencer-color').colors\nconst fns = require('../_fns')\nconst parseInput = require('./lib/parseInput')\nconst { parseX, parseY } = require('../parse')\n\nconst defaults = {\n  fill: colors.blue,\n  stroke: 'none',\n  'shape-rendering': 'optimizeQuality',\n  'vector-effect': 'non-scaling-stroke'\n}\n\nclass Shape {\n  constructor(obj = {}, world) {\n    this.world = world\n    this.data = obj.data || []\n    this._id = obj.id || fns.uid('input')\n    this.attrs = Object.assign({}, defaults, obj)\n    this.style = {}\n    this.curve = d3Shape.curveMonotoneX\n    this._shape = 1\n    this._title = ''\n    this._click = obj.click\n    this._hover = obj.hover\n    this._grow = false\n    //nudge pixels\n    this._dx = 0\n    this._dy = 0\n    this.ignore_clip = false\n  }\n  //don't clip some shapes\n  clip(bool) {\n    this.ignore_clip = bool\n    return this\n  }\n  straight() {\n    this.curve = d3Shape.curveLinear\n    return this\n  }\n  soft() {\n    // this.curve = d3Shape.curveBundle.beta(0.5)\n    this.curve = d3Shape.curveBasis\n    return this\n  }\n  grow(bool) {\n    this._grow = bool\n    return this\n  }\n  id(str) {\n    this._id = str\n    return this\n  }\n  dx(n) {\n    this._dx = n\n    return this\n  }\n  dy(n) {\n    this._dy = n\n    return this\n  }\n  at(x, y) {\n    if ((x || x === 0) && (y || y === 0)) {\n      this.set([[x, y]])\n      return this\n    }\n    //vertical line\n    if (x || x === 0) {\n      this.set([[x, '0%'], [x, '100%']])\n      return this\n    }\n    //horizontal line\n    if (y || y === 0) {\n      this.set([['0%', y], ['100%', y]])\n    }\n    return this\n  }\n  extent() {\n    let xArr = []\n    let yArr = []\n    this.data.forEach(o => {\n      if (o.x.type !== 'pixel') {\n        xArr.push(o.x.value)\n      }\n      if (o.y.type !== 'pixel') {\n        yArr.push(o.y.value)\n      }\n      if (o.y2 && o.y2.type !== 'pixel') {\n        yArr.push(o.y2.value)\n      }\n    })\n    return {\n      x: fns.extent(xArr),\n      y: fns.extent(yArr)\n    }\n  }\n  color(color) {\n    this.attrs.fill = colors[color] || color\n    return this\n  }\n  opacity(n) {\n    this.attrs.opacity = n\n    return this\n  }\n  title(str) {\n    this._title = str\n    return this\n  }\n  set(str) {\n    this.data = parseInput(str, this.world)\n    return this\n  }\n  from(x, y) {\n    this.data[0] = {\n      x: parseX(x, this.world),\n      y: parseY(y, this.world)\n    }\n    return this\n  }\n  to(x, y) {\n    this.data[1] = {\n      x: parseX(x, this.world),\n      y: parseY(y, this.world)\n    }\n    return this\n  }\n  //set any listeners on the dom element\n  onMount() {\n    if (!this._click && !this._hover) {\n      return\n    }\n    //wait for mount\n    setTimeout(() => {\n      let el = document.getElementById(this._id)\n      if (!el) {\n        return\n      }\n      if (this._click) {\n        el.addEventListener('click', () => {\n          this._click(this)\n        })\n      }\n      if (this._hover) {\n        el.addEventListener('mouseenter', () => {\n          this._hover(this)\n        })\n      }\n    }, 50)\n  }\n  click(fn) {\n    this._click = fn\n  }\n  hover(fn) {\n    this._hover = fn\n  }\n  //x,y coordinates\n  points() {\n    let { x, y } = this.world\n    let points = this.data.map(o => {\n      let arr = [x.place(o.x), y.place(o.y)]\n      if (o.y2 !== undefined) {\n        arr.push(y.place(o.y2))\n      }\n      arr[0] += this._dx\n      arr[1] += this._dy\n      return arr\n    })\n    return points\n  }\n  path() {\n    let zero = this.world.y.place(parseY(0))\n    let points = this.points()\n    return d3Shape\n      .area()\n      .x0(d => d[0])\n      .y0(d => d[1])\n      .y1(zero)\n      .curve(this.curve)(points)\n  }\n  drawSyle() {\n    return Object.keys(this.style)\n      .map(k => {\n        return `${k}:${this.style[k]};`\n      })\n      .join(' ')\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let attrs = Object.assign({}, this.attrs, {\n      d: this.path()\n    })\n    let classes = ''\n    if (this._grow) {\n      classes += 'grow'\n    }\n    return h`<path ...${attrs} id=${this._id} class=${classes} style=\"${this.drawSyle()}\"/>`\n  }\n}\nmodule.exports = Shape\n","const colors = require('spencer-color').colors\nconst Shape = require('./Shape')\nconst d3Shape = require('d3-shape')\nconst { parseY } = require('../parse')\n\nconst defaults = {\n  fill: colors.green,\n  stroke: colors.green,\n  'fill-opacity': 0.25,\n  'stroke-width': 2\n}\n\nclass Area extends Shape {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._line = 2\n  }\n  color(color) {\n    this.attrs.stroke = colors[color] || color\n    this.attrs.fill = colors[color] || color\n    return this\n  }\n  line(num) {\n    this._line = num\n  }\n  opacity(n) {\n    this.attrs['fill-opacity'] = n\n    return this\n  }\n  areaPath() {\n    let points = this.points()\n    //support non-zero bottom\n    if (points[0] && points[0].length === 3) {\n      return d3Shape\n        .area()\n        .x(d => d[0])\n        .y(d => d[1])\n        .y1(d => d[2])\n        .curve(this.curve)(points)\n    }\n    let zero = this.world.y.place(parseY(0))\n    return d3Shape\n      .area()\n      .x0(d => d[0])\n      .y0(d => d[1])\n      .y1(zero)\n      .curve(this.curve)(points)\n  }\n  linePath() {\n    let points = this.points()\n    //support non-zero bottom\n    if (points[0] && points[0].length === 3) {\n      return d3Shape\n        .area()\n        .x(d => d[0])\n        .y(d => d[1])\n        .y1(d => d[2])\n        .curve(this.curve)(points)\n    }\n    return d3Shape\n      .area()\n      .x(d => d[0])\n      .y(d => d[1])\n      .curve(this.curve)(points)\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let areaAttr = Object.assign({}, this.attrs, {\n      d: this.areaPath(),\n      stroke: 'none'\n    })\n    //draw an area, and a line on top\n    let area = h`<path ...${areaAttr} style=\"${this.drawSyle()}\"/>`\n    if (!this._line) {\n      return area\n    }\n    //draw a line on top\n    let lineAttr = Object.assign({}, this.attrs, {\n      d: this.linePath(),\n      fill: 'none'\n    })\n    let line = h`<path ...${lineAttr} style=\"${this.drawSyle()}\">\n        <title>${this._title}</title>\n      </path>`\n    return [line, area]\n  }\n}\n\nmodule.exports = Area\n","const colors = require('spencer-color').colors\nconst Shape = require('./Shape')\n\nconst defaults = {\n  fill: colors.green,\n  stroke: colors.green,\n  'fill-opacity': 0.25,\n  'stroke-width': 1\n}\n\nclass Rect extends Shape {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._rounded = 3\n    this._width = undefined\n    this._height = undefined\n  }\n  color(color) {\n    this.attrs.stroke = colors[color] || color\n    this.attrs.fill = colors[color] || color\n    return this\n  }\n  border(n) {\n    this.attrs['stroke-width'] = n\n    return this\n  }\n  opacity(n) {\n    this.attrs['fill-opacity'] = n\n    return this\n  }\n  width(n) {\n    this._width = n\n    return this\n  }\n  height(n) {\n    this._height = n\n    return this\n  }\n  rounded(r) {\n    this._rounded = r\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let points = this.points()\n    let a = points[0]\n    let b = points[1] || 0\n    let width = Math.abs(b[0] - a[0])\n    let height = Math.abs(b[1] - a[1])\n    if (this._width !== undefined) {\n      width = this._width\n    }\n    if (this._height !== undefined) {\n      height = this._height\n    }\n    let attrs = Object.assign({}, this.attrs, {\n      x: a[0],\n      y: a[1] - height,\n      width: width,\n      height: height,\n      rx: this._rounded\n    })\n    return h`<rect ...${attrs} >\n      <title>${this._title}</title>\n    </rect>` //<rect x=\"120\" y=\"0\" width=\"100\" height=\"100\" rx=\"15\" ry=\"15\" />\n  }\n}\n\nmodule.exports = Rect\n","const colors = require('spencer-color').colors\nconst d3Shape = require('d3-shape')\nconst Shape = require('./Shape')\n\nconst defaults = {\n  fill: 'none',\n  stroke: colors.blue,\n  'stroke-width': 4,\n  'stroke-linecap': 'round'\n}\n\nclass Line extends Shape {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n  }\n  color(color) {\n    this.attrs.stroke = colors[color] || color\n    return this\n  }\n  dotted(n) {\n    if (n === true) {\n      n = 4\n    }\n    this.attrs['stroke-dasharray'] = n || 4\n    return this\n  }\n  width(num) {\n    this.attrs['stroke-width'] = num\n    return this\n  }\n  path() {\n    let points = this.points()\n    return d3Shape\n      .line()\n      .x(d => d[0])\n      .y(d => d[1])\n      .curve(this.curve)(points)\n  }\n}\n\nmodule.exports = Line\n","const Shape = require('./Shape')\nconst colors = require('spencer-color').colors\n\nconst defaults = {\n  fill: 'grey',\n  stroke: 'none',\n  'stroke-width': 1,\n  'stroke-linecap': 'round',\n  'font-size': 5\n}\n\nclass Text extends Shape {\n  constructor(obj = {}, world) {\n    let text = null\n    let textFn = null\n    if (typeof obj === 'string') {\n      text = [obj]\n      obj = {}\n    } else if (typeof obj === 'function') {\n      textFn = obj\n      obj = {}\n    } else if (Array.isArray(obj)) {\n      text = obj\n      obj = []\n    }\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this.textLines = text || obj.text || []\n    this.textFn = textFn\n    if (typeof this.textLines === 'string') {\n      this.textLines = [this.textLines]\n    }\n    this._order = 0\n    this._responsive = false\n    this.data = [\n      {\n        x: {\n          value: 50,\n          type: 'percent'\n        },\n        y: {\n          value: 50,\n          type: 'percent'\n        }\n      }\n    ]\n    this._dodge = {\n      x: 0,\n      y: 4\n    }\n    this._underline = ''\n    this.style = this.style || {}\n    this.style['font-size'] = this.style['font-size'] || '4px'\n  }\n  before(x, y) {\n    this.attrs['text-anchor'] = 'end'\n    this.set([[x, y]])\n    return this\n  }\n  after(x, y) {\n    this.attrs['text-anchor'] = 'start'\n    this.set([[x, y]])\n    return this\n  }\n  center(x, y) {\n    this.attrs['text-anchor'] = 'middle'\n    if (x !== undefined) {\n      this.set([[x, y]])\n    }\n    return this\n  }\n  left() {\n    this.attrs['text-anchor'] = 'start'\n    return this\n  }\n  right() {\n    this.attrs['text-anchor'] = 'end'\n    return this\n  }\n  color(color) {\n    this.attrs.fill = colors[color] || color\n    return this\n  }\n  dy(n = 0) {\n    this._dodge.y = n * -1\n    return this\n  }\n  dx(n = 0) {\n    this._dodge.x = n\n    return this\n  }\n  dodge(x, y) {\n    x = x || this._dodge.x\n    y = y || this._dodge.y\n    this._dodge.x = x * -1\n    this._dodge.y = y * -1\n    return this\n  }\n  font(num) {\n    if (typeof num === 'number') {\n      num += 'px'\n    }\n    this.style['font-size'] = num\n    return this\n  }\n  size(num) {\n    return this.font(num)\n  }\n  responsive(bool) {\n    this._responsive = bool\n    return this\n  }\n  extent() {\n    // let longest = this.textLines.sort((a, b) => a.length < b.length ? 1 : -1)[0] || ''\n    // let width = longest.length * 8\n    // let height = this.textLines.length * 20\n    let d = this.data[0] || {}\n    return {\n      x: {\n        min: d.x.value,\n        max: d.x.value\n      },\n      y: {\n        min: d.y.value, // - height,\n        max: d.y.value\n      }\n    }\n  }\n  text(text) {\n    if (typeof text === 'string') {\n      this.textLines = [text]\n    } else if (typeof text === 'function') {\n      this.textLines = []\n      this.textFn = text\n    } else {\n      this.textLines = text\n    }\n    return this\n  }\n  path() {\n    return ''\n  }\n  estimate() {\n    let textArr = this.textLines\n    if (this.textFn !== null) {\n      textArr = this.textFn(this.world)\n      textArr = typeof textArr === 'string' ? [textArr] : textArr\n    }\n    //calculate height\n    let height = 24\n    if (this.style['font-size']) {\n      let num = this.style['font-size'].replace('px', '')\n      num = Number(num)\n      height = num * 1.5\n    }\n    height *= textArr.length\n    //calculate width\n    let width = 0\n    textArr.forEach(str => {\n      let w = str.length * 8\n      if (w > width) {\n        width = w\n      }\n    })\n    return {\n      height: height,\n      width: width\n    }\n  }\n  position() {\n    let point = this.points()[0]\n    let res = {\n      x: 0,\n      y: 0\n    }\n    if (!point) {\n      return res\n    }\n    let { height, width } = this.estimate()\n    res.height = height\n    res.width = width\n    res.y = point[1] + this._dodge.y - height\n    res.x = point[0] + 2 + this._dodge.x\n    res.y -= 2\n    return res\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let textArr = this.textLines\n    if (this.textFn !== null) {\n      textArr = this.textFn(this.world)\n      textArr = typeof textArr === 'string' ? [textArr] : textArr\n    }\n    let inside = textArr.map(str => h`<tspan x=\"0\" dy=\"1.2em\" >${String(str)}</tspan>`)\n    let { x, y } = this.position()\n    let transform = `translate(${x} ${y})`\n    let classes = ''\n    if (this._responsive) {\n      classes = 'somehow-legible'\n    }\n    return h`<g transform=\"${transform}\" >\n      <text ...${this.attrs} style=\"${this.drawSyle()}\" class=${classes}>\n        ${inside}\n      </text>\n    </g>`\n  }\n}\n\nmodule.exports = Text\n","const colors = require('spencer-color').colors\nconst Shape = require('./Shape')\n\nconst defaults = {\n  fill: colors.blue,\n  stroke: 'none'\n}\n\nclass Dot extends Shape {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._radius = obj.radius || 5\n  }\n  radius(r) {\n    this._radius = r\n    return this\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let point = this.points()[0]\n    let attrs = Object.assign({}, this.attrs, {\n      id: this._id,\n      cx: point[0],\n      cy: point[1],\n      r: this._radius\n    })\n    return h`<circle ...${attrs} ><title>${this._title}</title></circle>`\n  }\n}\n\nmodule.exports = Dot\n","const colors = require('spencer-color').colors\nconst Text = require('./Text')\n\nconst defaults = {\n  'text-anchor': 'start',\n  'font-size': 5,\n  class: 'somehow-legible'\n}\n\nclass Annotation extends Text {\n  constructor(obj = {}, world) {\n    super(obj, world)\n    this.attrs = Object.assign({}, defaults, this.attrs)\n    this._nudge = {\n      x: 0,\n      y: 0\n    }\n    this._title = ''\n  }\n  on(x, y) {\n    this.at(x, y)\n    return this\n  }\n  title(txt) {\n    this._title = txt\n    return this\n  }\n  nudge(x, y) {\n    //always in pixels\n    this._nudge.x = x\n    this._nudge.y = y\n    return this\n  }\n  drawText() {\n    let h = this.world.html\n    let nudge = this._nudge\n    let textArr = this.textLines\n    if (this.textFn !== null) {\n      textArr = this.textFn(this.world)\n      textArr = typeof textArr === 'string' ? [textArr] : textArr\n    }\n    let inside = textArr.map(str => h`<tspan x=\"0\" dy=\"1.2em\">${String(str)}</tspan>`)\n    let point = this.position()\n    let estimate = this.estimate()\n    let place = {\n      x: point.x + nudge.x,\n      y: point.y - nudge.y //- estimate.height,\n    }\n    let transform = `translate(${place.x} ${place.y})`\n    return h`<g transform=\"${transform}\" style=\"${this.drawSyle()}\">\n      <text ...${this.attrs}>\n        ${inside}\n      </text>\n      <line x1=\"${-2}\" y1=\"${estimate.height}\" x2=\"${estimate.width}\" y2=\"${\n      estimate.height\n    }\" style=\"stroke-width:1.5px; shapeRendering:optimizeQuality; vector-effect: non-scaling-stroke;\"  stroke=${\n      colors.grey\n    }/>\n    </g>`\n  }\n  drawRange() {\n    let h = this.world.html\n    let points = this.points()\n    if (points.length <= 1) {\n      return null\n    }\n    let size = 4\n    let style =\n      'stroke-width:2px; shapeRendering:optimizeQuality; vector-effect: non-scaling-stroke;'\n    let top = points[0]\n    let bottom = points[1]\n    //for a vertical range...\n    let ticks = h`<g>\n      <line x1=\"${top[0] - size}\" y1=\"${top[1]}\" x2=\"${top[0] + size}\" y2=\"${\n      top[1]\n    }\" style=\"${style}\" stroke=${colors.grey}/>\n      <line x1=\"${bottom[0] - size}\" y1=\"${bottom[1]}\" x2=\"${bottom[0] + size}\" y2=\"${\n      bottom[1]\n    }\" style=\"${style}\" stroke=${colors.grey}/>\n    </g>\n    `\n    //for a horizontal range\n    if (top[0] !== bottom[0]) {\n      ticks = h`<g>\n        <line x1=\"${top[0]}\" y1=\"${top[1] - size}\" x2=\"${top[0]}\" y2=\"${top[1] +\n        size}\" style=\"${style}\" stroke=${colors.grey}/>\n        <line x1=\"${bottom[0]}\" y1=\"${bottom[1] - size}\" x2=\"${bottom[0]}\" y2=\"${bottom[1] +\n        size}\" style=\"${style}\" stroke=${colors.grey}/>\n      </g>\n      `\n    }\n    return h`<g>\n      <line x1=\"${top[0]}\" y1=\"${top[1]}\" x2=\"${bottom[0]}\" y2=\"${\n      bottom[1]\n    }\" style=\"${style}\" stroke=${colors.grey}/>\n      ${ticks}\n    </g>`\n  }\n  getPoint() {\n    let points = this.points()\n    if (points.length <= 1) {\n      return points[0]\n    }\n    //the middle point?\n    let xDiff = points[0][0] - points[1][0]\n    let yDiff = points[0][1] - points[1][1]\n    return [points[0][0] - xDiff / 2, points[0][1] - yDiff / 2]\n  }\n  drawLine() {\n    let h = this.world.html\n    let nudge = this._nudge\n    let point = this.getPoint()\n    let start = this.points()[0]\n    let textPoint = {\n      x: start[0] + nudge.x,\n      y: start[1] - nudge.y + 4\n    }\n    //touch the right side, instead\n    if (nudge.x < 0) {\n      let estimate = this.estimate()\n      textPoint.x += estimate.width\n    }\n    return h`<line id=\"line\" x1=\"${textPoint.x}\" y1=\"${textPoint.y}\" x2=\"${point[0]}\" y2=\"${\n      point[1]\n    }\" style=\"stroke-width:2px; shapeRendering:optimizeQuality;\" vector-effect=\"non-scaling-stroke\" stroke=${\n      colors.grey\n    }/>`\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    return h`<g id=\"build\">\n      ${this.drawText()}\n      ${this.drawLine()}\n      ${this.drawRange()}\n    </g>`\n  }\n}\nmodule.exports = Annotation\n","const Area = require('./Area')\nconst { parseY } = require('../parse')\nconst parseInput = require('./lib/parseInput')\nconst d3Shape = require('d3-shape')\n\nclass Midarea extends Area {\n  constructor(obj, world) {\n    super(obj, world)\n    this._zero = this.world.y.place(parseY(0))\n  }\n  zero(y) {\n    this._zero = y\n  }\n  opacity(n) {\n    this.attrs['fill-opacity'] = n\n    return this\n  }\n  set(str) {\n    this.data = parseInput(str, this.world)\n    //add the bottom part, to data\n    this.data.forEach(o => {\n      o.y.value /= 2\n      o.y2 = Object.assign({}, o.y)\n      o.y2.value *= -1\n    })\n    return this\n  }\n  topLine(points) {\n    return d3Shape\n      .line()\n      .x(d => d[0])\n      .y(d => d[1])\n      .curve(this.curve)(points)\n  }\n  bottomLine(points) {\n    return d3Shape\n      .line()\n      .x(d => d[0])\n      .y(d => d[2])\n      .curve(this.curve)(points)\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let areaAttr = Object.assign({}, this.attrs, {\n      d: this.areaPath(),\n      stroke: 'none'\n    })\n    //draw an area, and a line on top\n    let area = h`<path ...${areaAttr} style=\"${this.drawSyle()}\">\n      <title>${this._title}</title>\n    </path>`\n    if (!this._line) {\n      return area\n    }\n    let points = this.points()\n\n    //draw a line on top\n    let topLine = Object.assign({}, this.attrs, {\n      d: this.topLine(points),\n      fill: 'none'\n    })\n    topLine = h`<path ...${topLine} style=\"${this.drawSyle()}\"/>`\n\n    //draw a line on the bottom\n    let bottomLine = Object.assign({}, this.attrs, {\n      d: this.bottomLine(points),\n      fill: 'none'\n    })\n    bottomLine = h`<path ...${bottomLine} style=\"${this.drawSyle()}\"/>`\n    return [topLine, area, bottomLine]\n  }\n}\nmodule.exports = Midarea\n","const colors = require('spencer-color').colors\nconst Rect = require('./Rect')\nconst { parseX, parseY } = require('../parse')\n\nconst defaults = {\n  fill: colors.green,\n  stroke: colors.green,\n  'fill-opacity': 1,\n  'stroke-width': 1\n}\n\nclass Bar extends Rect {\n  constructor(obj, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._rounded = 1\n    this._width = 5\n    this._zero = 0\n  }\n  width(w) {\n    this._width = w\n    return this\n  }\n  //point that it flips on\n  zero(w) {\n    this._zero = w\n    return this\n  }\n  opacity(n) {\n    this.attrs['fill-opacity'] = n\n    return this\n  }\n  at(x, y) {\n    this.data = [\n      {\n        x: parseX(x, this.world),\n        y: parseY(0, this.world)\n      },\n      {\n        x: parseX(x, this.world),\n        y: parseY(y, this.world)\n      }\n    ]\n    return this\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let points = this.points()\n    let bottom = points[0][1]\n    if (points[0][1] > points[1][1]) {\n      bottom = points[1][1]\n    }\n    let height = Math.abs(points[1][1] - points[0][1])\n    let attrs = Object.assign({}, this.attrs, {\n      x: points[0][0],\n      y: bottom,\n      width: this._width,\n      height: height,\n      rx: this._rounded,\n      title: this._title\n    })\n    return h`<rect ...${attrs} >\n        <title>${this._title}</title>\n      </rect>`\n  }\n}\nmodule.exports = Bar\n","const Shape = require('./Shape')\nconst colors = require('spencer-color').colors\n\nclass Image extends Shape {\n  constructor(obj, world) {\n    super(obj, world)\n    this._src = ''\n    this._width = 100\n    this._height = 200\n    this._caption = ''\n  }\n  src(src) {\n    this._src = src\n    return this\n  }\n  caption(txt) {\n    this._caption = txt\n    return this\n  }\n  size(w, h) {\n    this._width = w\n    this._height = h\n    return this\n  }\n  width(w) {\n    this._width = w\n    return this\n  }\n  height(h) {\n    this._height = h\n    return this\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let point = this.points()[0]\n    if (!point) {\n      point = [0, 0]\n    }\n    let caption = ''\n    if (this._caption) {\n      let y = point[1] + this._height + 15\n      caption = h`<text x=\"${point[0]}\" y=\"${y}\" stroke=\"none\" fill=\"${colors.grey}\">${\n        this._caption\n      }</text>`\n    }\n    return h`<g>\n      <image xlink:href=\"${this._src}\" x=\"${point[0]}\" y=\"${point[1]}\" height=\"${\n      this._width\n    }\" width=\"${this._height}\" />\n      ${caption}\n    </g>\n    `\n    //preserveAspectRatio=\"slice\"\n  }\n}\nmodule.exports = Image\n","const colors = require('spencer-color').colors\nconst d3Shape = require('d3-shape')\nconst Shape = require('./Shape')\n\nconst defaults = {\n  fill: 'none',\n  stroke: colors.grey,\n  'stroke-width': 3,\n  'stroke-linecap': 'round',\n  'shape-rendering': 'optimizeQuality'\n}\n\nclass Arrow extends Shape {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._length = 35\n  }\n  color(color) {\n    this.attrs.stroke = colors[color] || color\n    return this\n  }\n  from(x, y) {\n    this.set([this._data[0], [x, y]])\n  }\n  length(num) {\n    this._length = num\n    return this\n  }\n  width(num) {\n    this.attrs['stroke-width'] = num\n    return this\n  }\n  path() {\n    let points = this.points()\n    return d3Shape\n      .line()\n      .x(d => d[0])\n      .y(d => d[1])\n      .curve(this.curve)(points)\n  }\n  getLength(start, end) {\n    let x = start[0] - end[0]\n    let y = start[1] - end[1]\n    let h = Math.pow(x, 2) + Math.pow(y, 2) //x^2 + y^2 = h^2\n    h = Math.sqrt(h)\n    return h\n  }\n  getAngle(start, end) {\n    let p1 = {\n      x: start[0],\n      y: start[1]\n    }\n    let p2 = {\n      x: end[0],\n      y: end[1]\n    }\n    var angleRadians = Math.atan2(p2.y - p1.y, p2.x - p1.x)\n    return angleRadians\n  }\n  head(start, end) {\n    let h = this.world.html\n    let radian = this.getAngle(start, end)\n    let leftAngle = radian - Math.PI / 4\n    let rightAngle = radian + Math.PI / 4\n    let length = this.getLength(start, end)\n    length = length * 0.2\n    //---soh cah toa--\n    let left = {\n      opp: Math.sin(leftAngle) * length,\n      adj: Math.cos(leftAngle) * length\n    }\n    let right = {\n      opp: Math.sin(rightAngle) * length,\n      adj: Math.cos(rightAngle) * length\n    }\n    return h`<g>\n      <line x1=${start[0]} y1=${start[1]} x2=${start[0] + left.adj} y2=${start[1] + left.opp} ...${\n      this.attrs\n    }/>\n      <line x1=${start[0]} y1=${start[1]} x2=${start[0] + right.adj} y2=${start[1] +\n      right.opp} ...${this.attrs}/>\n    </g>`\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let points = this.points()\n    let start = points[0]\n    let end = points[1]\n    if (!end) {\n      end = [start[0] - this._length, start[1]]\n    }\n    return h`<g>\n      <line x1=${start[0]} y1=${start[1]} x2=${end[0]} y2=${end[1]} ...${this.attrs}/>\n      ${this.head(start, end)}\n    </g>`\n  }\n}\n\nmodule.exports = Arrow\n","const colors = require('spencer-color').colors\nconst Line = require('./Line')\n\nconst defaults = {\n  fill: 'none',\n  stroke: colors.lighter,\n  'stroke-width': 2,\n  'stroke-linecap': 'round'\n}\n\nclass Now extends Line {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._label = ''\n    this._y = '-5%'\n    this.dotted(true)\n    let d = Date.now()\n    this.set([[d, '0%'], [d, '100%']])\n  }\n  label(str) {\n    this._label = str\n    return this\n  }\n  top() {\n    this._y = '-5%'\n  }\n  bottom() {\n    this._y = '105%'\n  }\n  build() {\n    let h = this.world.html\n    this.onMount()\n    let attrs = Object.assign({}, this.attrs, {\n      d: this.path()\n    })\n    let point = this.points()[0]\n    let textAttrs = {\n      x: point[0],\n      y: this._y,\n      fill: this.attrs.stroke,\n      style: 'text-anchor:middle;'\n    }\n    return h`\n      <g>\n        <text ...${textAttrs}>\n          ${this._label}\n        </text>\n        <path ...${attrs} id=${this._id} style=\"${this.drawSyle()}\"/>\n      </g>\n    `\n  }\n}\n\nmodule.exports = Now\n","const colors = require('spencer-color').colors\nconst d3Shape = require('d3-shape')\nconst Shape = require('./Shape')\nconst parseInput = require('./lib/parseInput')\n\nconst defaults = {\n  fill: 'none',\n  stroke: colors.blue,\n  'stroke-width': 4,\n  'stroke-linecap': 'round'\n}\n\nclass Snake extends Shape {\n  constructor(obj = {}, world) {\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n  }\n  color(color) {\n    this.attrs.stroke = colors[color] || color\n    return this\n  }\n  dotted(n) {\n    if (n === true) {\n      n = 4\n    }\n    this.attrs['stroke-dasharray'] = n || 4\n    return this\n  }\n  set(str) {\n    let data = parseInput(str, this.world)\n    let more = []\n    // make it into a snake-form\n    data.forEach((obj, i) => {\n      more.push(obj)\n      if (data[i + 1]) {\n        more.push({\n          x: obj.x,\n          y: data[i + 1].y\n        })\n      }\n    })\n    this.data = more\n    return this\n  }\n  width(num) {\n    this.attrs['stroke-width'] = num\n    return this\n  }\n  path() {\n    let points = this.points()\n    return d3Shape\n      .line()\n      .x(d => d[0])\n      .y(d => d[1])(points)\n  }\n}\n\nmodule.exports = Snake\n","const colors = require('spencer-color').colors\nconst Text = require('./Text')\n\nconst defaults = {\n  stroke: 'none',\n  fill: colors.grey,\n  'stroke-width': 2,\n  'stroke-linecap': 'round',\n  'text-anchor': 'middle',\n  class: 'somehow-legible'\n}\n\nclass Title extends Text {\n  constructor(obj = {}, world) {\n    let title = ''\n    if (typeof obj === 'string') {\n      title = obj\n      obj = {}\n    }\n    obj = Object.assign({}, defaults, obj)\n    super(obj, world)\n    this._title = title\n    this._y = '-5%'\n    this._x = '50%'\n    this.ignore_clip = true\n  }\n  extent() {\n    return null\n  }\n  label(str) {\n    this._label = str\n    return this\n  }\n  color(c) {\n    this.attrs.fill = c\n    return this\n  }\n  top() {\n    this._y = '-15%'\n    return this\n  }\n  bottom() {\n    this._y = '115%'\n    return this\n  }\n  left() {\n    this._x = '15%'\n    this.attrs['text-anchor'] = 'start'\n    return this\n  }\n  right() {\n    this._x = '95%'\n    this.attrs['text-anchor'] = 'end'\n    return this\n  }\n  build() {\n    let h = this.world.html\n    let attrs = Object.assign({}, this.attrs, {\n      x: this._x,\n      y: this._y\n    })\n    return h`<text ...${attrs}>\n          ${this._title}\n        </text>`\n  }\n}\n\nmodule.exports = Title\n","const fitAspect = require('fit-aspect-ratio')\nconst htm = require('htm')\nconst vhtml = require('vhtml')\nconst methods = require('./methods')\nconst clipShapes = require('./_clip')\nconst YScale = require('./scales/YScale')\nconst XScale = require('./scales/Scale')\nconst XAxis = require('./axis/XAxis')\nconst YAxis = require('./axis/YAxis')\n\nconst Shape = require('./shapes/Shape')\nconst Area = require('./shapes/Area')\nconst Rect = require('./shapes/Rect')\nconst Line = require('./shapes/Line')\nconst Text = require('./shapes/Text')\nconst Dot = require('./shapes/Dot')\nconst Annotation = require('./shapes/Annotation')\nconst MidArea = require('./shapes/MidArea')\nconst Bar = require('./shapes/Bar')\nconst Image = require('./shapes/Image')\nconst Arrow = require('./shapes/Arrow')\nconst Now = require('./shapes/Now')\nconst Snake = require('./shapes/Snake')\nconst Title = require('./shapes/Title')\n\nclass World {\n  constructor(obj = {}) {\n    this.width = 100\n    this.height = 100\n    obj.aspect = obj.aspect || 'widescreen'\n    if (obj.aspect) {\n      this.aspect = obj.aspect\n      let res = fitAspect({\n        aspect: obj.aspect,\n        width: 100\n      })\n      this.width = res.width || 100\n      this.height = res.height || 100\n    }\n    this.shapes = []\n    //give the points a little bit of space.\n    this.wiggle_room = 1.05\n    this.x = new XScale(obj, this)\n    this.y = new YScale(obj, this)\n    this.xAxis = new XAxis({}, this)\n    this.yAxis = new YAxis({}, this)\n    this.html = htm.bind(vhtml)\n    this.inputs = []\n    this.state = {}\n    this.state.time = Date.now()\n    this._title = ''\n    this.el = obj.el || null\n    if (typeof this.el === 'string') {\n      this.el = document.querySelector(this.el)\n    }\n  }\n  bind(fn) {\n    this.html = htm.bind(fn)\n  }\n  line(obj) {\n    let line = new Line(obj, this)\n    this.shapes.push(line)\n    return line\n  }\n  dot(obj) {\n    let dot = new Dot(obj, this)\n    this.shapes.push(dot)\n    return dot\n  }\n  text(obj) {\n    let text = new Text(obj, this)\n    this.shapes.push(text)\n    return text\n  }\n  area(obj) {\n    let shape = new Area(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  midArea(obj) {\n    let shape = new MidArea(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  rect(obj) {\n    let shape = new Rect(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  bar(obj) {\n    let shape = new Bar(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  annotation(obj) {\n    let shape = new Annotation(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  image(obj) {\n    let shape = new Image(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  arrow(obj) {\n    let shape = new Arrow(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  now(obj) {\n    let shape = new Now(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  snake(obj) {\n    let shape = new Snake(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  title(obj) {\n    let shape = new Title(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  shape(obj) {\n    let shape = new Shape(obj, this)\n    this.shapes.push(shape)\n    return shape\n  }\n  getShape(id) {\n    return this.shapes.find(shape => shape.id === id || shape._id === id)\n  }\n  redraw() {\n    if (this.el) {\n      this.el.innerHTML = this.build()\n    } else {\n      console.log('must define world html element')\n    }\n  }\n  breakpoints() {\n    return this.html`<style scoped>\n      .somehow-legible {\n        font-size: 2px;\n      }\n      @media (max-width: 600px) {\n        .somehow-legible {\n          font-size: 4px;\n        }\n      }\n      .grow:hover {\n        stroke-width: 6px;\n      }\n    </style>`\n  }\n  clip() {\n    this.x.clip()\n    this.y.clip()\n    return this\n  }\n  build() {\n    let h = this.html\n    let shapes = this.shapes.sort((a, b) => (a._order > b._order ? 1 : -1))\n    //remove shapes outside of max/mins\n    shapes = clipShapes(shapes, this.x, this.y)\n    let elements = []\n    if (this.xAxis) {\n      elements.push(this.xAxis.build())\n    }\n    if (this.yAxis) {\n      elements.push(this.yAxis.build())\n    }\n    elements = elements.concat(shapes.map(shape => shape.build()))\n    let attrs = {\n      // width: this.width,\n      // height: this.height,\n      viewBox: `0,0,${this.width},${this.height}`,\n      preserveAspectRatio: 'xMidYMid meet',\n      style: 'overflow:visible; margin: 10px 20px 25px 25px;' // border:1px solid lightgrey;\n    }\n    return h`<svg ...${attrs}>\n      ${this.breakpoints()}\n      ${elements}\n    </svg>`\n  }\n}\nObject.keys(methods).forEach(k => {\n  World.prototype[k] = methods[k]\n})\nconst aliases = {\n  plusminus: 'plusMinus'\n}\nObject.keys(aliases).forEach(k => {\n  World.prototype[k] = methods[aliases[k]]\n})\nmodule.exports = World\n","module.exports = '0.3.6'","const World = require('./World')\nconst version = require('../_version')\n\n// ...people call this a 'factory'\nconst somehow = function(obj) {\n  return new World(obj)\n}\nsomehow.version = version\nmodule.exports = somehow\n"],"names":["orientation","description","decimal","names","list","n","t","e","u","r","o","length","s","f","p","Object","assign","push","apply","replace","h","Map","get","set","arguments","module","exports","str","i","epoch","offset","absOffset","parse","type","value","test","Number","num","isNaN","spacetime","isValid","console","warn","parseX","world","res","x","format","parseY","y","extent","arr","min","max","forEach","a","uid","nums","parseInt","Math","random","require$$0","has","undefined","methods","from","rescale","to","c","fitX","shapes","map","filter","minX","fns","maxX","fitY","minY","maxY","fit","clipShapes","xScale","yScale","ignore_clip","_clip","tmp","scaleLinear","obj","minmax","calc","range","percent","size","backward","Scale","data","width","_format","is_y","scale","b","byPercent","val","diff","bool","YScale","height","require","d","Error","code","call","blue","green","yellow","red","pink","brown","orange","purple","navy","olive","fuscia","beige","slate","suede","burnt","sea","sky","night","rouge","grey","mud","royal","cherry","tulip","rose","fire","greyblue","greygreen","greypurple","burn","slategrey","light","lighter","fudge","lightgrey","white","dimgrey","softblack","dark","black","juno","barrow","roma","palmer","mark","salmon","dupont","bloor","yukon","david","neste","ken","keys","colors","combos","reduceTo","allTicks","start","end","unit","ticks","add","startOf","isBefore","formatTicks","fmt","delta","label","centuries","decades","years","months","isSame","days","hours","minutes","chooseMethod","reverseTicks","reverse","spacetimeTicks","time","minus","version","_dereq_","trillion","billion","million","hundredThousand","tenThousand","thousand","hundred","ten","one","tenth","hundredth","thousandth","prettyNum","parseFloat","toLocaleString","abs","millions","hundredKs","thousands","hundreds","tens","ones","tenths","hundredths","somehowTicks","roundDown","floor","inc","number","generic","axis","_suffix","tick","_prefix","date","bil","mil","tenThou","thou","drawTick","pos","_fmt","defaults","stroke","Axis","attrs","_tickCount","_given","_show","_label","color","XAxis","html","drawTicks","textAttrs","fill","style","YAxis","global","factory","this","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","path","prototype","constructor","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","toString","defineProperty","d3Path","constant","atan2","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","buffer","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","t0","t1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","Linear","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","point","curveLinear","line","x$1","y$1","defined","curve","output","defined0","area","j","k","x0z","Array","y0z","arealine","lineX0","lineY0","lineY1","lineX1","descending","identity","pie","sortValues","sort","sum","index","arcs","pa","v","curveRadialLinear","curveRadial","Radial","_curve","radial","lineRadial","angle","radius","lineRadial$1","areaRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","pointRadial","slice","linkSource","source","linkTarget","target","link","argv","curveHorizontal","curveVertical","curveRadial$1","p2","p3","linkHorizontal","linkVertical","linkRadial","circle","draw","cross","tan30","tan30_2","diamond","ka","kr","kx","ky","star","square","sqrt3","triangle","wye","symbols","symbol","noop","that","Basis","basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","basisClosed","BasisOpen","basisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","custom","point$1","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","cardinalClosed","CardinalOpen","cardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","m","CatmullRom","alpha","_alpha","x23","y23","pow","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","linearClosed","sign","slope3","h0","h1","s0","s1","slope2","point$3","MonotoneX","_t0","MonotoneY","ReflectContext","create","monotoneX","monotoneY","Natural","px","controlPoints","py","i0","i1","natural","Step","_t","step","stepBefore","stepAfter","none","series","order","none$1","stackValue","key","stack","kz","sz","oz","ki","si","sij","expand","diverging","yp","yn","silhouette","wiggle","s2","sij0","sij1","s3","sk","skj0","skj1","appearance","peaks","peak","vi","vj","Infinity","ascending","sums","descending$1","insideOut","top","bottom","tops","bottoms","concat","curveBasis","curveBasisClosed","curveBasisOpen","curveBundle","curveCardinal","curveCardinalClosed","curveCardinalOpen","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","radialArea","radialLine","stackOffsetDiverging","stackOffsetExpand","stackOffsetNone","stackOffsetSilhouette","stackOffsetWiggle","stackOrderAppearance","stackOrderAscending","stackOrderDescending","stackOrderInsideOut","stackOrderNone","stackOrderReverse","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolStar","symbolTriangle","symbolWye","parseStr","lines","split","trim","parseInput","require$$1","Shape","_id","id","d3Shape","_shape","_title","_click","click","_hover","hover","_grow","_dx","_dy","xArr","yArr","opacity","setTimeout","el","document","getElementById","addEventListener","fn","points","place","zero","join","onMount","classes","drawSyle","Area","areaAttr","areaPath","lineAttr","linePath","Rect","_rounded","_width","_height","rx","Line","Text","text","textFn","isArray","textLines","_order","_responsive","_dodge","_underline","font","textArr","estimate","inside","String","position","transform","Dot","_radius","Annotation","_nudge","at","txt","nudge","xDiff","yDiff","getPoint","textPoint","drawText","drawLine","drawRange","Midarea","_zero","topLine","bottomLine","Bar","title","Image","_src","_caption","src","caption","Arrow","_length","_data","angleRadians","radian","getAngle","leftAngle","rightAngle","getLength","left","opp","adj","right","head","Now","dotted","Date","now","Snake","more","Title","World","aspect","fitAspect","wiggle_room","XScale","xAxis","yAxis","htm","bind","vhtml","inputs","state","querySelector","dot","shape","MidArea","find","innerHTML","build","log","clip","elements","viewBox","preserveAspectRatio","breakpoints","aliases","plusminus","somehow"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}